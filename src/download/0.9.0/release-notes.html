<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>0.9.0 Release Notes ‚ö° The Zig Programming Language</title>
    <link rel="icon" href="https://ziglang.org/favicon.png">
    <style>
      :root{
         --nav-width: 24em;
         --nav-margin-l: 1em;
      }
      body{
        font-family: system-ui, -apple-system, Roboto, "Segoe UI", sans-serif;
        margin: 0;
        line-height: 1.5;
      }
      header {
        padding: 0 1em;
      }
      h1, h2, h3, h4, h5 {
        margin: 0.5em 0 0.5em;
        line-height: 1.2;
        font-weight: bold;
      }
      h1, h2 { font-size: 2.0em; }
      h3 { font-size: 1.5em; }
      h4 { font-size: 1.25em; }
      h5 { font-size: 1.0em; }
      #contents {
        max-width: 60em;
        margin: auto;
        padding: 0 1em;
      }
      #navigation {
        padding: 0 1em;
      }

      @media screen and (min-width: 1025px) {
        header {
          margin-left: calc(var(--nav-width) + var(--nav-margin-l));
        }
        header h1 {
          margin: auto;
          max-width: 30em;
        }
        #navigation {
          overflow: auto;
          width: var(--nav-width);
          height: 100vh;
          position: fixed;
          top:0;
          left:0;
          bottom:0;
          padding: unset;
          margin-left: var(--nav-margin-l);
        }
        #navigation nav ul {
          padding-left: 1em;
        }
        #contents-wrapper {
          margin-left: calc(var(--nav-width) + var(--nav-margin-l));
        }
    }

    a:hover,a:focus {
      background: #fff2a8;
    }
    dt {
      font-weight: bold;
    }
    th, td {
      padding: 0.6em;
    }
    tr:nth-child(even) {
      background: #f2f3f3;
    }
    .t0_1, .t37, .t37_1 {
      font-weight: bold;
    }
    .t2_0 {
      color: #575757;
    }
    .t31_1 {
      color: #b40000;
    }
    .t32_1 {
      color: green;
    }
    .t36_1 {
      color: #005C7A;
    }
    .file {
      font-weight: bold;
      border: unset;
    }
    code {
      background: #f8f8f8;
      border: 1px dotted silver;
      padding-left: 0.3em;
      padding-right: 0.3em;
    }
    pre > code {
      display: block;
      overflow: auto;
      padding: 0.5em;
      border: 1px solid #eee;
      line-height: normal;
    }
    samp {
      background: #fafafa;
    }
    pre > samp {
      display: block;
      overflow: auto;
      padding: 0.5em;
      border: 1px solid #eee;
      line-height: normal;
    }
    kbd {
      font-weight: bold;
    }
    .table-wrapper {
      width: 100%;
      overflow-x: auto;
    }

    .tok-kw {
        color: #333;
        font-weight: bold;
    }
    .tok-str {
        color: #d14;
    }
    .tok-builtin {
        color: #005C7A;
    }
    .tok-comment {
        color: #545454;
        font-style: italic;
    }
    .tok-fn {
        color: #900;
        font-weight: bold;
    }
    .tok-null {
        color: #005C5C;
    }
    .tok-number {
        color: #005C5C;
    }
    .tok-type {
        color: #458;
        font-weight: bold;
    }

    figure {
      margin: auto 0;
    }
    figure pre {
      margin-top: 0;
    }

    figcaption {
      padding-left: 0.5em;
      font-size: small;
      border-top-left-radius: 5px;
      border-top-right-radius: 5px;
    }
    figcaption.zig-cap {
      background: #fcdba5;
    }
    figcaption.c-cap {
      background: #a8b9cc;
      color: #000;
    }
    figcaption.peg-cap {
      background: #fcdba5;
    }
    figcaption.javascript-cap {
      background: #365d95;
      color: #fff;
    }
    figcaption.shell-cap {
      background: #ccc;
      color: #000;
    }

    aside {
      border-left: 0.25em solid #f7a41d;
      padding: 0 1em 0 1em;
    }

    h1 a, h2 a, h3 a, h4 a, h5 a {
      text-decoration: none;
      color: #333;
    }

    a.hdr {
      visibility: hidden;
    }
    h1:hover > a.hdr, h2:hover > a.hdr, h3:hover > a.hdr, h4:hover > a.hdr, h5:hover > a.hdr {
      visibility: visible;
    }

    pre {
      counter-reset: line;
    }
    pre .line:before {
      counter-increment: line;
      content: counter(line);
      display: inline-block;
      padding-right: 1em;
      width: 2em;
      text-align: right;
      color: #999;
    }
    th pre code {
        background: none;
    }
    th .line:before {
        display: none;
    }

    #logo {
      width: 100%;
      height: 7em;
      display: block;
      background-image: url(https://ziglang.org/img/zig-logo-dark.svg);
      background-repeat: no-repeat;
    }

    @media (prefers-color-scheme: dark) {
      body{
          background:#121212;
          color: #ccc;
      }
      a {
          color: #88f;
      }
      a:hover,a:focus {
          color: #000;
      }
      tr:nth-child(even) {
        background: #1e1e1e;
      }
      .t2_0 {
          color: grey;
      }
      .t31_1 {
          color: red;
      }
      .t32_1 {
          color: #00B800;
      }
      .t36_1 {
          color: #0086b3;
      }
      code {
        background: #222;
        border-color: #444;
      }
      pre > code {
          color: #ccc;
          background: #222;
          border: unset;
      }
      samp {
        background: #000;
        color: #ccc;
      }
      pre > samp {
        border: unset;
      }
      .tok-kw {
          color: #eee;
      }
      .tok-str {
          color: #2e5;
      }
      .tok-builtin {
          color: #ff894c;
      }
      .tok-comment {
          color: #aa7;
      }
      .tok-fn {
          color: #B1A0F8;
      }
      .tok-null {
          color: #ff8080;
      }
      .tok-number {
          color: #ff8080;
      }
      .tok-type {
          color: #68f;
      }
      h1 a, h2 a, h3 a, h4 a, h5 a {
          color: #aaa;
      }
      figcaption.zig-cap {
          background-color: #b27306;
          color: #000;
      }
      figcaption.peg-cap {
          background-color: #b27306;
          color: #000;
      }
      figcaption.shell-cap {
        background: #2a2a2a;
        color: #fff;
      }
      #logo {
        background-image: url(https://ziglang.org/img/zig-logo-light.svg);
      }
    }
  </style>
  </head><!--
++++++++[>++++[>++>+++>+++>+<<<<-]>+>+>->>+[<]<-]>>.>- - -.+++++++..+++.>>.<-.<.+++.- - - - - -.- - - - - - - -.>>+.>++.
  --><body>
    <div id="contents">
    <a href="https://ziglang.org/"><span id="logo"></span></a>
    <h1>0.9.0 Release Notes</h1>
    <p>
    <a href="https://ziglang.org/download/">Download &amp; Documentation</a>
    </p>
    <p>
    Zig is a general-purpose programming language and toolchain for maintaining
    <strong>robust</strong>, <strong>optimal</strong>, and <strong>reusable</strong> software.
    </p>
    <p>
    Backed by the <a href="/zsf/">Zig Software Foundation</a>,
    the project is <strong>financially sustainable</strong> and offers billable
    hours for core team members:
    </p>
    <ul style="columns: 3">
      <li><a href="https://andrewkelley.me/">Andrew Kelley</a></li>
      <li><a href="https://kristoff.it/">Loris Cro</a></li>
      <li><a href="http://www.jakubkonka.com/">Jakub Konka</a></li>
      <li><a href="https://github.com/Vexu">Veikka Tuominen</a></li>
      <li><a href="https://github.com/SpexGuy">Martin Wickham</a></li>
      <li><a href="https://github.com/kprotty">kprotty</a></li>
      <li><a href="https://github.com/alexnask">Alexandros Naskos</a></li>
    </ul>
    <p>
    Please consider <a href="/zsf/">donating to the ZSF</a> to help us pay even more contributors!
    </p>
    <p>
    This release features <strong>6 months of work</strong> and
    changes from <strong>TODO different contributors</strong>, spread among
    <strong>TODO commits</strong>.
    The {#link|Toolchain#} "just works" in more cases,
    many {#link|bugs were fixed|Bug Fixes#},
    the {#link|Self-Hosted Compiler#} is 44% complete,
    the {#link|Support Table#} is expanded,
    there are a handful of {#link|Language Changes#}, and
    the project started {#link|Performance Tracking#}.
    </p>
    {#header_open|Table of Contents#}
    {#nav#}
    {#header_close#}

    {#header_open|Support Table#}
    {#header_open|Tier System#}
    <p>
    A green check mark (‚úÖ) indicates the target meets all the requirements for the
    support tier. The other icons indicate what is <em>preventing the target from
      reaching the support tier</em>. In other words, the icons are
    <strong>to-do items</strong>. If you find any wrong data here please
    <a href="https://github.com/ziglang/www.ziglang.org">submit a pull request</a>!
    </p>
    {#header_open|Tier 1 Support#}
    <ul>
      <li>Not only can Zig generate machine code for these targets, but the standard
        library cross-platform abstractions have implementations for these targets.</li>
      <li>üß™ The CI server automatically tests these targets on every commit to master
        branch.</li>
      <li>üì¶ The CI server automatically produces pre-built binaries for these targets,
        on every commit to master, and updates
        <a href="https://ziglang.org/download/">the download page</a> with links.</li>
      <li>These targets have debug info capabilities and therefore produce stack traces
        on failed assertions.</li>
      <li>libc is available for this target even when cross compiling.</li>
      <li>üêõ All the behavior tests and applicable standard library tests pass for this target.
          All language features are known to work correctly. Experimental features do not
          count towards disqualifying an operating system or architecture from Tier 1.</li>
      <li><code>zig cc</code>, <code>zig c++</code> and related toolchain commands support
        this target.</li>
      <li>üíÄ If the Operating System is proprietary then the target is not marked deprecated
        by the vendor,
        <a href="https://support.apple.com/en-us/HT208436">such as macos/x86</a>.</li>
    </ul>
    <table>
    <thead>
    <tr>
    <th></th>
    <th>freestanding</th>
    <th>Linux 3.16+</th>
    <th>macOS 10.13+</th>
    <th>Windows 8.1+</th>
    <th>WASI</th>
    </tr>
    </thead>
    <tbody>
    <tr>
    <td>x86_64</td>
    <td>‚úÖ</td>
    <td>‚úÖ</td>
    <td>‚úÖ</td>
    <td>‚úÖ</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>x86</td>
    <td>‚úÖ</td>
    <td><a href="https://github.com/ziglang/zig/issues/1929">#1929</a> üêõüì¶</td>
    <td>üíÄ</td>
    <td><a href="https://github.com/ziglang/zig/issues/537">#537</a> üêõüì¶</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>aarch64</td>
    <td>‚úÖ</td>
    <td><a href="https://github.com/ziglang/zig/issues/2443">#2443</a> üêõ</td>
    <td>‚úÖ</td>
    <td>üêõüì¶üß™</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>arm</td>
    <td>‚úÖ</td>
    <td><a href="https://github.com/ziglang/zig/issues/3174">#3174</a> üêõüì¶</td>
    <td>üíÄ</td>
    <td>üêõüì¶üß™</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>mips</td>
    <td>‚úÖ</td>
    <td><a href="https://github.com/ziglang/zig/issues/3345">#3345</a> üêõüì¶</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>riscv64</td>
    <td>‚úÖ</td>
    <td><a href="https://github.com/ziglang/zig/issues/4456">#4456</a> üêõüì¶</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>sparcv9</td>
    <td>‚úÖ</td>
    <td><a href="https://github.com/ziglang/zig/issues/4931">#4931</a> üêõüì¶üß™</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>wasm32</td>
    <td>‚úÖ</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>‚úÖ</td>
    </tr>
    </tbody>
    </table>
    {#header_close#}

    {#header_open|Tier 2 Support#}
    <ul>
    <li>üìñ The standard library supports this target, but it's possible that some
      APIs will give an "Unsupported OS" compile error. One can link with libc or other
      libraries to fill in the gaps in the standard library.</li>
    <li>üîç These targets are known to work, but may not be automatically tested, so there
      are occasional regressions.</li>
    <li>Some tests may be disabled for these targets as we work toward
      {#link|Tier 1 Support#}.
    </li>
    </ul>
    <table>
    <thead>
    <tr>
    <th></th>
    <th>free standing</th>
    <th>Linux 3.16+</th>
    <th>macOS 10.13+</th>
    <th>Windows 8.1+</th>
    <th>FreeBSD 12.0+</th>
    <th>NetBSD 8.0+</th>
    <th>DragonFlyBSD 5.8+</th>
    <th>UEFI</th>
    </tr>
    </thead>
    <tbody>
    <tr>
    <td>x86_64</td>
    <td>{#link|Tier 1|Tier 1 Support#}</td>
    <td>{#link|Tier 1|Tier 1 Support#}</td>
    <td>{#link|Tier 1|Tier 1 Support#}</td>
    <td>{#link|Tier 1|Tier 1 Support#}</td>
    <td>‚úÖ</td>
    <td>‚úÖ</td>
    <td>‚úÖ</td>
    <td>‚úÖ</td>
    </tr>
    <tr>
    <td>x86</td>
    <td>{#link|Tier 1|Tier 1 Support#}</td>
    <td>‚úÖ</td>
    <td>üíÄ</td>
    <td>‚úÖ</td>
    <td>üîç</td>
    <td>üîç</td>
    <td>N/A</td>
    <td>‚úÖ</td>
    </tr>
    <tr>
    <td>aarch64</td>
    <td>{#link|Tier 1|Tier 1 Support#}</td>
    <td>‚úÖ</td>
    <td>{#link|Tier 1|Tier 1 Support#}</td>
    <td>üîç</td>
    <td>üîç</td>
    <td>üîç</td>
    <td>N/A</td>
    <td>üîç</td>
    </tr>
    <tr>
    <td>arm</td>
    <td>{#link|Tier 1|Tier 1 Support#}</td>
    <td>‚úÖ</td>
    <td>üíÄ</td>
    <td>üîç</td>
    <td>üîç</td>
    <td>üîç</td>
    <td>N/A</td>
    <td>üîç</td>
    </tr>
    <tr>
    <td>mips64</td>
    <td>‚úÖ</td>
    <td>‚úÖ</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>üîç</td>
    <td>üîç</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>mips</td>
    <td>{#link|Tier 1|Tier 1 Support#}</td>
    <td>‚úÖ</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>üîç</td>
    <td>üîç</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>powerpc64</td>
    <td>‚úÖ</td>
    <td>üìñ</td>
    <td>üíÄ</td>
    <td>N/A</td>
    <td>üîç</td>
    <td>üîç</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>powerpc</td>
    <td>‚úÖ</td>
    <td>‚úÖ</td>
    <td>üíÄ</td>
    <td>N/A</td>
    <td>üîç</td>
    <td>üîç</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>riscv64</td>
    <td>{#link|Tier 1|Tier 1 Support#}</td>
    <td>‚úÖ</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>üîç</td>
    <td>üîç</td>
    <td>N/A</td>
    <td>üîç</td>
    </tr>
    <tr>
    <td>sparcv9</td>
    <td>{#link|Tier 1|Tier 1 Support#}</td>
    <td>‚úÖ</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>üîç</td>
    <td>üîç</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    </tbody>
    </table>
    {#header_close#}

    {#header_open|Tier 3 Support#}
    <ul>
    <li>The standard library has little to no knowledge of the existence of this
        target.</li>
    <li>If this target is provided by LLVM, LLVM has the target enabled by default.</li>
    <li>These targets are not frequently tested; one will likely need to contribute
      to Zig in order to build for these targets.</li>
    <li>The Zig compiler might need to be updated with a few things such as<ul>
       <li>what sizes are the C integer types</li>
       <li>C ABI calling convention for this target</li>
       <li>start code and default panic handler</li>
      </ul></li>
     <li><code>zig targets</code> is guaranteed to include this target.</li>
    </ul>
    <table>
      <thead>
        <tr>
          <th></th>
          <th>freestanding</th>
          <th>Linux 3.16+</th>
          <th>Windows 8.1+</th>
          <th>FreeBSD 12.0+</th>
          <th>NetBSD 8.0+</th>
          <th>UEFI</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>x86_64</td>
          <td>{#link|Tier 1|Tier 1 Support#}</td>
          <td>{#link|Tier 1|Tier 1 Support#}</td>
          <td>{#link|Tier 1|Tier 1 Support#}</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
        </tr>
        <tr>
          <td>x86</td>
          <td>{#link|Tier 1|Tier 1 Support#}</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
        </tr>
        <tr>
          <td>aarch64</td>
          <td>{#link|Tier 1|Tier 1 Support#}</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
        </tr>
        <tr>
          <td>arm</td>
          <td>{#link|Tier 1|Tier 1 Support#}</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
        </tr>
        <tr>
          <td>mips64</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>N/A</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>mips</td>
          <td>{#link|Tier 1|Tier 1 Support#}</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>N/A</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>riscv64</td>
          <td>{#link|Tier 1|Tier 1 Support#}</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>N/A</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
        </tr>
        <tr>
          <td>powerpc32</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>N/A</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>powerpc64</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>‚úÖ</td>
          <td>N/A</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>bpf</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
          <td>N/A</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>hexagon</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
          <td>N/A</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>amdgcn</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
          <td>N/A</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>sparc</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
          <td>N/A</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>s390x</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
          <td>N/A</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>lanai</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
          <td>N/A</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>csky</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
          <td>N/A</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
          <td>N/A</td>
        </tr>
      </tbody>
    </table>
    <table>
      <thead>
        <tr>
          <th></th>
          <th>freestanding</th>
          <th>emscripten</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>wasm32</td>
          <td>{#link|Tier 1|Tier 1 Support#}</td>
          <td>‚úÖ</td>
        </tr>
      </tbody>
    </table>
    {#header_close#}

    {#header_open|Tier 4 Support#}
    <ul>
      <li>Support for these targets is entirely experimental.</li>
      <li>If this target is provided by LLVM, LLVM may have the target as an
        experimental target, which means that you need to use Zig-provided binaries
        for the target to be available, or build LLVM from source with special configure flags.
        <code>zig targets</code> will display the target if it is available.</li>
      <li>This target may be considered deprecated by an official party,
        <a href="https://support.apple.com/en-us/HT208436">such as macosx/i386</a> in which
        case this target will remain forever stuck in Tier 4.</li>
      <li>This target may only support <code>-femit-asm</code> and cannot emit object files
        (<code>-fno-emit-bin</code> enabled by default and cannot be overridden).</li>
    </ul>
    <p>Tier 4 targets:</p>
    <ul style="columns: 3">
      <li>avr</li>
      <li>riscv32</li>
      <li>xcore</li>
      <li>nvptx</li>
      <li>msp430</li>
      <li>r600</li>
      <li>arc</li>
      <li>tce</li>
      <li>le</li>
      <li>amdil</li>
      <li>hsail</li>
      <li>spir</li>
      <li>kalimba</li>
      <li>shave</li>
      <li>renderscript</li>
      <li>32-bit x86 macOS, 32-bit ARM macOS, powerpc32 and powerpc64 macOS,
        because Apple has officially dropped support for them.</li>
    </ul>
    {#header_close#}
    {#header_close#}

    {#header_open|WebAssembly Support#}
    <ul>
      <li>wasi libc: fix wasm-ld failure in matching libc symbols, and enable tests (#9227).</li>
      <li>link: don't link system libraries by the wasm-ld linker. The only allowed system libraries
      that we can link are libraries that are part of the sysroot such as libc or WASI emulated
      subcomponents. This is required as Wasm allows to defer symbol resolution until load time. For example,
      specifying that an import is coming from <code>wasi_snapshot_preview1</code> should not generate a link flag
      <code>-lwasi_snapshot_preview1</code> on the linker line as this is not a system library that needs to be
      imported at link-time, but a system library that is provided by the runtime at load-time.</li>
    </ul>
    TODO:     Merge pull request #8992 from ziglang/cc-wasm32-wasi-emulations
    Merge branch 'mathetake-cc-wasi-execmodel'
    Merge branch 'mathetake-cpp-wasi'

commit bc7761d8e0bb70adb3c76c588f9f0b62937c6571
Author: Takeshi Yoneda <takeshi@tetrate.io>
Date:   Thu Jul 1 09:02:48 2021 +0900

    Add support for WASI reactor in pure Zig-exe. (#9178)
    
    * Add command line help for "-mexec-model"
    * Define WasmExecModel enum in std.builtin.
    * Drop the support for the old crt1.o in favor of crt1-command.o

commit 5c34c01179a4a54c0fb11d107664f8c35e9f09dc
Author: Takeshi Yoneda <takeshi@tetrate.io>
Date:   Sat Jul 3 12:42:42 2021 +0900

    WASI: include exec-model in cache state.

commit b9e896d7b076e59d6f6dd9b0bad9697875d1f6e4
Author: Takeshi Yoneda <takeshi@tetrate.io>
Date:   Tue Jul 6 20:49:57 2021 +0900

    wasi-libc: remove crt1.o as it's not WASI ABI compatible

commit 5c79370e9c3edee271d4f0e65e718d12b8db8a1e
Author: Takeshi Yoneda <takeshi@tetrate.io>
Date:   Tue Aug 24 21:03:50 2021 +0900

    wasm: pass --export-dynamic to wasm-ld for WASI reactors. (#9605)

commit d2cdfb949033cfd463cdd4ef1bbf93f94d4d190a
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Tue Nov 9 14:29:20 2021 -0700

    stage2: add 4 new linker flags for WebAssembly
    
    --import-memory          import memory from the environment
    --initial-memory=[bytes] initial size of the linear memory
    --max-memory=[bytes]     maximum size of the linear memory
    --global-base=[addr]     where to start to place global data
    
    See #8633

    <p>Contributors: Takeshi Yoneda, Jakub Konka, Andrew Kelley</p>
    {#header_close#}

    {#header_open|RISC-V Support#}
    <ul>
      <li>Fix RISC-V assembly CPU features.
        Previously, Zig did not properly communicate the target CPU features for
        RISC-V to clang assembler, because Clang has a different way to pass CPU
        features for C code and for assembly code. This commit makes Zig pass a
        RISC-V <code>-march</code> flag in order to communicate CPU features to
        Clang when compiling assembly files.</li>
    </ul>
    <p>Contributors: Andrew Kelley, Michael Dusan</p>
    {#header_close#}

    {#header_open|NetBSD Support#}
commit 79a4da14ad137aa52a32f9113982b706d8c5fe8b
Author: Michael Dusan <michael.dusan@gmail.com>
Date:   Wed Jun 16 00:35:20 2021 -0400

    netbsd: add args to limit number of PT_LOAD segs
    
    NetBSD expects 2 PT_LOAD segments in a shared object, otherwise
    ld.elf_so fails to load, emitting a general "not found" error.
    
    Workaround issue by adding args `--no-rosegment` and `-znorelro`.
    
    see #9109
    {#header_close#}

    {#header_open|Windows Support#}
    <p>TODO</p>
commit ed2e4a7f138322dcf5c76138586971e228c0c3c9
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Tue Nov 16 12:50:57 2021 -0700

    disable LTO by default on Windows when linking libc++
    
    See #8531
    {#header_open|ARM64 Windows Support#}
commit 6237dc0ab8fcb6fc14b97b2ea5494a488e94e492
Merge: 501e6cf2f 343547d4a
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Wed Sep 8 13:32:20 2021 -0400

    Merge pull request #9700 from marler8997/bootstrapAarch64Windows
    
    changes to build zig-bootstrap aarch64-windows

 src/mingw.zig       |  1 +
 src/windows_sdk.cpp | 20 ++++++++++++++++----
 2 files changed, 17 insertions(+), 4 deletions(-)

commit fd2c1d860503ec6cd71ab9a692ad2dbf6bd3c269
Author: Jonathan Marler <johnnymarler@gmail.com>
Date:   Tue Sep 7 10:44:21 2021 -0600

    Fix building aarch64-windows-gnu by adding missing libc files and compiler_rt functions (#9555)
    
    * fix issue 9519
    
    Added some missing files from mingw
    
    * add missing compiler_rt functions
    * add aarch64-windows-gnu to test targets
    * add more compiler_rt
    * add log2
    * add pow
    * add modti3

    {#header_close#}
    {#header_close#}

    {#header_open|iOS Support#}
    <p>Thanks to major improvements in the {#link|Self-Hosted Linker#} combined with
    support for compiling {#link|Objective-C|Objective-C and Objective-C++#}, along
    with miscellaneous improvements in the {#link|Self-Hosted Compiler#},
    Zig now targets iOS and iPhone Simulator platforms. See
    <a href="https://github.com/kubkon/zig-ios-example">kubkon/zig-ios-example</a>
    for a complete example.</p>
    {#header_close#}

    {#header_open|Solaris/Illumos Support#}
commit 87fd502fb68f8f488e6eba6b1f7d70902d6bfe5a
Author: Stephen Gregoratto <dev@sgregoratto.me>
Date:   Tue Aug 31 22:21:23 2021 +1000

    Initial bringup of the Solaris/Illumos port
    {#header_close#}

    {#header_open|Haiku Support#}
commit 36c8adf58922d8e357bbaf7ce914cfd4b7b56354
Merge: e266ede6e be541ca5e
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Wed Nov 24 18:42:30 2021 -0800

    Merge pull request #10073 from hoanga/haiku-support-build2
    
    more haiku support
    {#header_close#}

    {#header_open|macOS Support#}
commit 2006add8496c47804ee3b6c562f420871cb4ea0a
Merge: 9177f5c17 a04140125
Author: Jakub Konka <kubkon@jakubkonka.com>
Date:   Fri Nov 26 01:08:16 2021 +0100

    Merge pull request #10215 from ziglang/macos-versions
    
    Ship versioned libc headers on macOS

commit 7c2cc45ad87b621831ac4b8cada809c2d88cdf0d
Merge: a2c546fea e2b6dfa60
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Fri Nov 26 12:00:30 2021 -0800

    Merge pull request #10226 from ziglang/fix-10217
    
    macos: improved SDK detection and linker integration with _mh_execute_header

    {#header_close#}

    {#header_open|Linux Support#}
commit 19eaf54bc9ea8229dd0ae9e8e99865aba6fe4398
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Mon Nov 29 16:51:05 2021 -0700

    update libc linux headers to v5.16-rc3
    
     * Add missing Linux headers. Closes #9837
     * Update existing headers to latest Linux.
     * Consolidate headers that are the same for multiple Zig target CPU
       architectures. For example, Linux has only an x86 directory for both
       x86_64 and x86 CPU architectures. Now Zig only ships an x86 directory
       for Linux headers, and will emit the proper corresponding -isystem
       flags.
     * tools/update-linux-headers.zig is now available for upgrading to
       newer Linux headers, and the update process is now documented on the
       wiki.
    {#header_close#}
    {#header_close#}

    {#header_open|Documentation#}
    <ul>
      <li>New section: <a href="https://ziglang.org/documentation/0.9.0/#C-Translation-CLI">C Translation CLI</a></li>
      <li>New section: <a href="https://ziglang.org/documentation/0.9.0/#C-Translation-Caching">C Translation Caching</a></li>
      <li>New section: <a href="https://ziglang.org/documentation/0.9.0/#Translation-failures">Translation Failures</a></li>
      <li>New section: <a href="https://ziglang.org/documentation/0.9.0/#C-Macros">C Macros</a></li>
      <li>Miscellaneous minor improvements and corrections.</li>
    </ul>
    <p>Contributors: Andrew Kelley, pfg, Mr. Paul, Daniele Cocca, Lee Cannon, Travis Staloch, Jacob G-W, Robin Voetter, Auguste Rame, Meghan, Michael Byrne, David May, Dmitry Matveyev, Evan Haas, Exonorid, Isaac Freund, Jarred Sumner, Jonathan Marler, Josh Soref, Nathan Michaels, Norberto Mart√≠nez, Nulo, Paul, Philipp L√ºhmann, Roman Fro≈Çow, Rory O‚ÄôKane, Veikka Tuominen, bnprks, kprotty, travisstaloch, yetanothercheer</p>
    {#header_close#}

    {#header_open|Language Changes#}
    <ul>
      <li>{#syntax#}@byteOffsetOf{#endsyntax#} is renamed to {#syntax#}@offsetOf{#endsyntax#}</li>
    </ul>

    {#header_open|More Builtins Return String Literals#}
    <p>
    {#syntax#}@tagName{#endsyntax#}, {#syntax#}@errorName{#endsyntax#},
    {#syntax#}@typeName{#endsyntax#}, and {#syntax#}@embedFile{#endsyntax#} now
    have a return type of {#syntax#}*[N]const u8{#endsyntax#} instead of
    {#syntax#}[]const u8{#endsyntax#}. This means that these builtins can be used anywhere
    a string literal would be used. In other words, they can be
    <a href="https://ziglang.org/documentation/0.9.0/#Type-Coercion">coerced</a> into
    any of these types:
    </p>
    <ul>
      <li>{#syntax#}[]const u8{#endsyntax#} (slice which has pointer and length)</li>
      <li>{#syntax#}[*:0]const u8{#endsyntax#} (null-terminated pointer)</li>
      <li>{#syntax#}[:0]const u8{#endsyntax#} (slice which has pointer and length and is also
      guaranteed by the type system to have a null byte at the end, which is not counted in the length)</li>
    </ul>
    <p>Similarly, the <code>file</code> and <code>fn_name</code> fields of
    <code>std.builtin.SourceLocation</code> returned by {#syntax#}@src{#endsyntax#} now
    are {#syntax#}[:0]const u8{#endsyntax#}, making it possible to pass them as null-terminated
    strings without copying them.</p>
    {#header_close#}

    {#header_open|@minimum and @maximum#}
    TODO
commit cdeea3b0943b070d49d8d8d0855f9a38843e3ecc
Author: Robin Voetter <robin@voetter.nl>
Date:   Sun Jul 25 05:34:11 2021 +0200

    minimum/maximum builtins

    {#header_close#}

    {#header_open|@select#}
    TODO
commit 50a29f7c213d4a906839dfd625b6280663348781
Author: Robin Voetter <robin@voetter.nl>
Date:   Mon Jul 26 02:37:11 2021 +0200

    Add @select
    
    @select(
        comptime T: type,
        pred: std.meta.Vector(len, bool),
        a: std.meta.Vector(len, T),
        b: std.meta.Vector(len, T)
    ) std.meta.Vector(len, T)
    
    Constructs a vector from a & b, based on the values in the predicate vector. For indices where the predicate value is true, the corresponding
    element from the a vector is selected, and otherwise from b.
    {#header_close#}

    {#header_open|SIMD Status#}
    <p>
    In this release, the following builtins have been improved to support SIMD vectors:
    </p>
    <ul>
      <li>{#syntax#}@popCount{#endsyntax#}</li>
      <li>{#syntax#}@ctz{#endsyntax#}</li>
      <li>{#syntax#}@clz{#endsyntax#}</li>
    </ul>
    TODO SIMD status
     - mostly works great
     - link to proposal for vector syntax
     - docs aren't there yet
     - still some missing functionality
     - self-hosted compiler is where it's at
    {#header_close#}

    {#header_open|@intToEnum Implicitly Performs @intCast#}
    <p>This is a backwards-compatible language change.</p>
    <p>
    Previously, {#syntax#}@intToEnum{#endsyntax#} coerced its integer operand to the integer tag
    type of the destination enum type, often requiring the callsite to
    additionally wrap the operand in an {#syntax#}@intCast{#endsyntax#}.
    Now, the {#syntax#}@intCast{#endsyntax#} is
    implicit, and any integer operand can be passed to {#syntax#}@intToEnum{#endsyntax#}.
    </p>
    <p>
    The same as before, it is illegal behavior to pass any integer which does
    not have a corresponding enum tag.
    </p>
    TODO change this boring description into a code example
    {#header_close#}

    {#header_open|Shadowing Declarations#}
    TODO
commit 9c95f38a7c1defc7f63a4815bfc2d76a5f9f83f6
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Tue Aug 24 18:56:16 2021 -0700

    stage1: remove incorrect compile error for var redeclaration
    
    Locals are not allowed to shadow declarations, but declarations are
    allowed to shadow each other, as long as there are no ambiguous
    references.
    
    closes #678

 src/stage1/analyze.cpp | 43 ++++---------------------------------------
 src/stage1/astgen.cpp  | 43 +++++++++++++++++++++++++------------------
 2 files changed, 29 insertions(+), 57 deletions(-)



commit f30aa25cbf9c9a415963b4ea69d7efa09237a704
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Fri Aug 27 21:34:13 2021 -0700

    declarations may collide with primitives with @"" syntax
    
     * stage2 AstGen: add missing compile error for declaring a local
       that shadows a primitive. Even with `@""` syntax, it may not have
       the same name as a primitive.
     * stage2 AstGen: add a compile error for a global declaration
       whose name matches a primitive. However it is allowed when using
       `@""` syntax.
     * stage1: delete all "declaration shadows primitive" compile errors
       because they are now handled by stage2 AstGen.
     * stage1/stage2 AstGen: notice when using `@""` syntax and:
       - treat `_` as a regular identifier
       - skip checking if an identifire is a primitive
    
    Check the new test cases for clarifications on semantics.
    
    closes #6062

commit 6a6e2cd64f3ebb1919dd0ac53d8a1f29c56e6ec2
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sat Aug 28 10:17:47 2021 -0700

    AstGen: allow locals with same name as primitives with `@""` syntax
    
    This makes local names follow the same rule as declaration names.

    {#header_close#}

    {#header_open|usingnamespace No Longer Affects Identifier Lookup#}
    <p>
    TODO
    </p>
    {#header_close#}

    {#header_open|Saturating Arithmetic#}
    TODO (#9949) (#9679) (#9619)
    {#header_close#}

    {#header_open|Compile Errors for Unused Locals#}
    TODO
    TODO also mention the end-game for this which is a button in an editor
    which does "organize imports"-like behavior. philosohpy of having the source code
    on disk contain the smell.
    {#header_close#}

    {#header_open|@export with Field Access#}
    AstGen: support `@export` with field access
    
    The Zig language specification will support identifiers and field access
    in order to refer to which declaration to export with `@export`.
    
    This commit implements the change in AstGen and updates the language
    reference.
    {#header_close#}

    {#header_open|Keywords Deleted: true, false, undefined, null#}
    <p>
    Now these are primitives provided by the language, same as {#syntax#}void{#endsyntax#},
    {#syntax#}u32{#endsyntax#}, etc.
    </p>
    <p>Consequently one can now use these tokens as, for example, struct field names:</p>
    <pre>{#syntax#}const Foo = struct {
    true: i32,
    false: i32,
    undefined: i32,
    null: i32,
};{#endsyntax#}</pre>
    <p>
    However it is still required to use {#syntax#}@""{#endsyntax#} syntax to disambiguate
    between references to primitives or same-named identifiers. Example:
    </p>
    {#code_begin|test_err|shadows#}
test "example" {
    var i32: bool = true;
}
    {#code_end#}
    {#header_close#}
    {#header_close#}

    {#header_open|Bootstrap Compiler#}
    <p>In the previous release, as well as this release, the main Zig compiler everybody uses
    is the bootstrap compiler, written in C++, also known as "stage1". Despite the main focus
    of this release cycle being the {#link|Self-Hosted Compiler#}, there were some improvements
    to stage1 as well.</p>
    <ul>
      <li>Fix SIMD instructions not respecting target CPU features when LTO is enabled (#8965).</li>
      <li>Store the specified code model in the LLVM module, ensuring that LTO builds pick
        up the correct model (#9132).</li>
      <li>Fix initialization of tuples with array literals (now it works).</li>
      <li>Fix render_const_value for printing const optional pointers.</li>
      <li>Make {#syntax#}@truncate{#endsyntax#} to an integer type of different sign an error
        at comptime too.</li>
      <li>CLI: remove <code>--verbose-ast</code> and <code>--verbose-tokenize</code> (#9034).</li>
      <li>Fix handling of C ABI parameters split in multiple regs by taking into account
        the increased number of parameters when flattening a structure into one or more
        SSE registers (#9061).</li>
      <li>Fix zig0 help message (#9140).</li>
      <li>Fix {#syntax#}@shuffle{#endsyntax#} type and mask parameters to imply a
        {#syntax#}comptime{#endsyntax#} scope for the expression.</li>
      <li>Fix unexpected truncation behavior with comptime_int larger than u64
          range (#9303) (#9299).</li>
      <li>Compilation speed is enhanced by 19% by improving hash functions.</li>
      <li>Compilation RAM usage is reduced by 5% by avoiding wasting padding with IR instruction
          tags and by removing an unneeded field.</li>
      <li>Fix bigint_shl (#9305).</li>
      <li>Add {#syntax#}c_longdouble{#endsyntax#} mapping for the s390x architecture.</li>
      <li>Expand SysV C ABI compatibility for small structs.</li>
      <li>Fix anonymous struct naming in some cases (#4330) (#9339).</li>
      <li>Add mask before truncating dereferenced bit pointers (#9584). Resulted in an
        <a href="https://bugs.llvm.org/show_bug.cgi?id=51529">LLVM bug fix</a>.</li>
      <li>Work around LLVM's buggy fma lowering by lowering {#syntax#}@mulAdd{#endsyntax#}
          directly to a call to <code>fmaq</code> instead of to the LLVM intristic
          because LLVM will lower it to <code>fmal</code> even when the target's
          <code>long double</code> is not equivalent to {#syntax#}f128{#endsyntax#}.</li>
      <li>Fix <code>zig test --verbose-air</code> crashing on an empty file (#10031).</li>
      <li>Fix path normalization on Windows by backporting a missing change from the
        {#link|Self-Hosted Compiler#} (#9465).</li>
      <li>Fix type mapping for integers and {#syntax#}c_longdouble{#endsyntax#} for the
        nvptx architecture.</li>
      <li>Fix linking errors with floorl on MSVC by including math.h in a .cpp file.
        floorl is a force inline function defined in a header thus not visible for the linker.</li>
      <li>Fix caching of LLVM builtin fns. The cache entry must take into account the fact some
        functions operate on scalar types and some other on vectors of scalar types (#10147).</li>
      <li>Improve packed struct array padding error message.</li>
      <li>Fix exporting enums (#9498).</li>
      <li>Make cmpxchg respect <code>-fsingle-threaded</code>.</li>
      <li>Add support for the <code>NO_COLOR</code> environment variable.</li>
      <li>Disable valgrind integration on macOS. Unfortunately, Valgrind for macOS
        has been broken for years, and the Homebrew formula is only for Linux (#9612).</li>
      <li>Fix {#syntax#}@divTrunc{#endsyntax#} behavior dependent on the order of operands (#10001).</li>
      <li>Make omiting frame pointer independent of build mode (#9874).</li>
    </ul>
    <p>Contributors: Andrew Kelley, LemonBoy, Martin Wickham, Robin Voetter, Daniele Cocca, Takeshi Yoneda, Auguste Rame, Daniele Cocca, Jacob G-W, Lee Cannon, LemonBoy, Matthew Borkowski, Travis Staloch, leesongun, travisstaloch, Belhorma Bendebiche, Evan Haas, Exonorid, Frank Denis, Jakub Konka, Jay Petacat, Josh Soref, Kirk Scheibelhut, Meghan Denny, Michael Dusan, Richard Eklycke, Stephen Gregoratto, Veikka Tuominen, mlarouche, vole-dev, ≈Ωiga ≈Ωeljko</p>

    {#header_open|Better Awareness of Unwind Tables#}
commit b6277a4b1c2be27701d594bc1465ac72fc226260
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Thu Jun 10 11:25:33 2021 -0700

    better awareness of unwind tables
    
     * stage1 backend allows configuring the uwtables function attr
       via a flag rather than its own logic.
     * stage2 defaults to enabling uwtable attr when
       linking libunwind, or always on windows
     * stage2 makes link_eh_frame_hdr true automatically if uwtable
       attr is set to be on for zig functions
     * CLI: add -funwind-tables and -fno-unwind-tables to allow the user to
       override the defaults.
     * hook it up to `zig cc`
    
    closes #9046
    {#header_close#}

    {#header_open|Move Unreachable Code Errors to Self-Hosted#}
    <p>TODO AstGen is so fast that we do it unconditionally as an extra layer
    on top of stage1</p>
    <p>TODO this gives us errors such as {#link|Compile Errors for Unused Locals#} even for stage1</p>
    <p>TODO this allowed us to move unreachable code error from {#link|Bootstrap Compiler#} to
    the {#link|Self-Hosted Compiler#}, which actually improved perf!</p>
    <p>TODO #9219</p>
    {#header_close#}
    {#header_close#}

    {#header_open|Self-Hosted Compiler#}
    <p>The main focus of this release cycle was the self-hosted compiler (also known
    as "stage2").</p>

    TODO image representing progress

    TODO tetris milestone with perf improvement

    TODO link to my twitter thread about progress updates

    TODO show perf measurement

    TODO mention MIR and how it relates to perf

    <p>
    Despite the fact that .zig source code by default is still compiled in this
    release using the {#link|Bootstrap Compiler#}, the main driver code is already
    self-hosted, as well as many features, such as {#link|zig cc#}, {#link|C Translation#},
    CPU feature detection, and the cache system. Improvements made to "stage2" in these areas
    do in fact affect the main Zig user experience.
    </p>

    <p>
    Miscellaneous improvements:
    </p>
    <ul>
      <li>windows: look for more DLL import lib path names.
        When linking with -lfoo syntax, this indicates to Zig that the
        dependency should either be provided by Zig, or it should be dynamically
        provided by the system.
        For windows-gnu targets, the search path was "foo.lib". Now it
        additionally looks for "libfoo.dll.a" (#7799).</li>
      <li>native libc detection: respect spaces in CC env var. 
        Zig has detection for when it is accidentally being called recursively
        when trying to find the native libc installation. However it was not
        working, resulting in a cryptic failure, because zig tried to execute
        a command which had spaces in it rather than tokenizing it.
        This improves the user experience of {#link|zig cc#} for systems that Zig
        does not support cross-compiling for (#8960).</li>
      <li>Print path on libc/libc-path fatal error.</li>
      <li>CLI: rename <code>--override-lib-dir</code> to <code>--zig-lib-dir</code>.
        This breaking change disambiguates between overriding the lib dir when
        performing an installation with the {#link|Zig Build System#}, and overriding the
        lib dir that the Zig installation itself uses.</li>
      <li>The equivalent of <code>zig ast-check</code> is now run unconditionally for
        all files, even when using the {#link|Bootstrap Compiler#}. This means instant
        feedback for many compile errors such as {#link|Compile Errors for Unused Locals#}
        (#9191).</li>
      <li>Added <code>--sysroot</code> link option (#9202).</li>
      <li>AstGen: fixed O(N^2) perf for many decls with same parent (#9234).</li>
      <li>AstGen: error for return outside of function scope (#9346).</li>
      <li>Improved error messages that tell the paths of files when errors occur.</li>
      <li>Added support for the <code>NO_COLOR</code> environment variable.</li>
      <li>More compile errors for invalid inline assembly.</li>
      <li>Fixed libc include directories for the MSVC target.</li>
      <li><code>-rdynamic</code> now implies <code>-fdll-export-fns</code> unless the
        latter is explicitly set (#9340).</li>
      <li>Added <code>-femit-llvm-bc</code> CLI option, and improved <code>-fcompiler-rt</code>
        support (#9440).</li>
      <li>The CLI now recognizes <code>-z origin</code>, <code>-z noexecstack</code>,
        <code>-z now</code>, <code>-z relro</code>, <code>-z notext</code>, and
        <code>-z nodelete</code>. These are additionally available in the
        {#link|Zig Build System#}.</li>
      <li>Fixed libc file to check against compilation target instead of native (#9670).</li>
      <li><code>zig init-lib</code> and <code>zig init-exe</code> will no longer overwrite
        <code>src/main.zig</code> if it already exists.</li>
      <li><code>zig test</code> gains a <code>--test-no-exec</code> flag.</li>
      <li>New CLI parameter: <code>-femit-implib</code>.</li>
      <li>Fixed incorrectly invoking LLD when building an object file.</li>
    </ul>
<p>Contributors: Andrew Kelley, Jakub Konka, Jacob G-W, Robin Voetter, Joachim Schmidt, Luuk de Gram, Evan Haas, Martin Wickham, Matthew Borkowski, Lee Cannon, Veikka Tuominen, Takeshi Yoneda, Travis Staloch, drew, Ryan Liptak, xackus, Emily Bellows, Jonathan Marler, g-w1, Alex R√∏nne Petersen, Dmitry Matveyev, J.C. Moyer, Meghan Denny, Michael Dusan, kprotty, Andrew Gutekanst, Daniele Cocca, FnControlOption, Isaac Freund, Kurt Kartaltepe, LemonBoy, Lewis Gaul, Matt Knight, Tom Maenan Read Cutting, Zen1th, jacob gw, vole-dev, ≈Ωiga ≈Ωeljko, AODQ, Al Hoang, Christopher Smyth, Dimenus, Exonorid, Frank Denis, Hadrien Dorio, Isaac Freund, Josh Soref, Kenta Iwasaki, Loris Cro, Michal Ziulek, Scibuild, Sebastian Ullrich, Sizhe Zhao, Stephen Gregoratto, Stephen Gutekanst, St√©phan Kochen, Tamas Kenez, Thomas Ives, Vincent Rischmann, daurnimator, pithlessly, travisstaloch, xavier</p>

    {#header_open|LLVM Backend#}
    <p>TODO</p>
    {#header_close#}

    {#header_open|C Backend#}
    <p>TODO</p>
    {#header_close#}

    {#header_open|Self-Hosted Linker#}
    <p>The main improvements to the self-hosted linker have been to the MachO linker backend by
    Jakub Konka and to the {#link|WebAssembly|WebAssembly Support#} linker backend by Luuk de Gram.</p>
    <p>
    The most significant milestone for the self-hosted MachO linker is that it is getting battle tested by the
    community every day, and it can now successfully be used as a drop-in linker for other languages and environments
    such as C, C++, Objective-C, Objective-C++, Go and Rust. It can also be used to cross-compile code dependent on
    frameworks from a non-Apple host such as Linux to Apple platforms such as macOS, iOS, etc., with the sysroot
    provided by the user.
    </p>
    <p>
    Additionally, the linker was featured at the 2021 Handmade Seattle Conference where Jakub in a short 5 minute video
    demonstrated the linker's current capabilities when used with the bootstrap compiler (stage1), and showcased
    a prototype for incremental linking and what developer experience it will unlock when used with the self-hosted
    compiler (stage2). The demo is available at the Handmade Seattle Conference media website here:
    <a href="https://media.handmade-seattle.com/zld/">The ZLD Linker demo</a>.
    </p>
    <p>
    Major improvements to the MachO linker backend:
    </p>
    <ul>
      <li>Ability to correctly link common symbols (aka tentative definitions).</li>
      <li>Ability to generate basic <code>__eh_frame</code> debug section.</li>
      <li>Ability to link system libraries and frameworks including in cross-compilation contexts.
       Achieving this required creating a TAPI (yaml) parser for parsing Apple's text-based definition stub files
       such as <code>libSystem.B.tbd</code>.</li>
      <li>Ability to defer imports (undefined symbols) resolution in dynamic libraries until load time. This
       effectively implies Zig's MachO linker respects <code>-fallow-shlib-undefined</code> or equivalently
       in macOS parlance <code>-Wl, "-undefined dynamic_lookup"</code> flags. This in turn implies that Zig can be
       used to successfully build NodeJS or Python native addons/modules which require deferred until load-time
       undefined symbol resolution. See for instance issue #3000.</li>
      <li>Ability to target iOS and iOS simulator targets. How to do that is documented in Jakub's standalone
        repo <a href="https://github.com/kubkon/zig-ios-example">zig-ios-example</a> on GitHub.</li>
      <li>The linker can successfully be used as a drop-in linker for C, C++, Objective-C, Objective-C++, Go and Rust</li>
      <li>Ability to perform incremental linking updates to Zig mixed with C objects. Current linker implementation
       allows the user to use the self-hosted Zig compiler's watch mode to perform incremental updates to both
       Zig and C sources at the same time. While Zig will perform the updates at the finest granularity, i.e.,
       on a per decl/symbol basis, the linker can also relink the C object files if they are changed without
       affecting the Zig generated decls. This is a prototype of the desired developer experience we are aiming
       for, and it was demonstrated as part of the linker's demo at the 2021 Handmade Seattle Conference (link above).</li>
      <li>Creation of a standalone visualisation tool for exploring differences between subsequent incremental
       linker updates when the self-hosted compiler is run in the watch mode. The tool is called 
       <a href="https://github.com/kubkon/zig-snapshots">zig-snapshots</a> and aims to become the debugging tool for 
       Zig linker developers and contributors. In order to use the tool, the self-hosted Zig compiler needs to be
       built with <code>-Dlink-snapshot</code>, and then the compiler needs to be passed <code>--debug-link-snapshot</code>.</li>
    </ul>
    <p>Miscellaneous improvements:</p>
    <ul>
      <li>Correctly delimit rpath in LC_RPATH load command payload.</li>
      <li>Handle Windows paths when cross-compiling from Windows to macOS.</li>
      <li>Skip temporary and unnamed symbols from inclusion in the MachO's symbol table.</li>
      <li>Ignore undefined symbols marked from discarding - if a symbol is undefined after we tried resolving it
       and it is annotated with <code>N_DESC_DISCARDED</code> description flag, simply ignore it rather than throw
       an <code>error.UndefinedSymbolReference</code>.</li>
      <li>Add missing TbdV3 fields, allow for []TbdV3, and synthesise Objective-C ivars and eh_types symbol names.</li>
      <li>Resolve frameworks in BFS order.</li>
      <li>Add a GOT entry for <code>ARM64_RELOC_POINTER_TO_GOT</code> target.</li>
      <li>COFF: honor the link_libunwind flag.</li>
      <li>wasm: respect stack_size_override for build-obj and build-lib (#8633).</li>
      <li>MachO: Ability to create dylibs (#9266)</li>
      <li>Add fat/universal dylib support. With this change, zig can link with dynamic libraries
          contained within a fat/universal file that had multiple
          separate binaries embedded within it for multi-arch support (in macOS).</li>
      <li>MachO: Fix section mapping for Go specific sections.</li>
      <li>MachO: Link against system libSystem when building natively (#9242).</li>
      <li>COFF: Add IMPLIB support (#9347).</li>
    </ul>
    {#header_close#}

    {#header_open|C Translation#}
    <p>TODO</p>
    TODO mention arocc efforts
    <ul>
      <li>Properly handle enums used as boolean expressions.</li>
      <li>Implement flexible arrays (#8759).</li>
      <li>Fix enums that require {#syntax#}c_uint{#endsyntax#} type.</li>
      <li>Better support for static local variables.</li>
      <li>Don't bother with unwrapping pointers. Dereferencing a c pointer implicitly
        includes an unwrap, manually adding it just causes bugs.</li>
      <li>Improve type parsing.</li>
      <li>Remove usage of {#syntax#}extern enum{#endsyntax#}. Instead, translate enum
        types as the underlying integer type. Translate enum constants
        as top-level integer constants of the correct type (which does not necessarily
        match the enum integer type). If an enum constant's type cannot be translated
        for some reason, omit it.
        <a href="https://github.com/ziglang/zig/issues/2115#issuecomment-827968279">discussion</a>
        (#9153).</li>
      <li>Avoid discarding variables unless necessary (#9205).</li>
      <li>Handle underscore when used as an identifier by using <code>@</code> syntax to
        escape <code>_</code> when used as an identifier.</li>
      <li>Handle NAN and INFINITY macros (#9468).</li>
      <li>Handle signed array subscripts. This is a rather complicated workaround for
        handling signed array subscripts. Once {#syntax#}[*]T + isize{#endsyntax#} is allowed,
        this can be removed (#8556).</li>
      <li>Handle macros that cast to cv void (#9507).</li>
      <li>Allow string literals to be used as <code>char *</code>. 
        In C the type of string literals is <code>char *</code>, so when using them in
        a non-const context we have to cast the const away (#9126).</li>
      <li>Avoid repeating string in type when making it mutable.</li>
      <li>Remove now unnecessary mangling of primitive type shadowing (#6382).</li>
      <li>Fix logic for checking primitive names (#9928).</li>
      <li>Create {#syntax#}inline fn{#endsyntax#} for <code>always_inline</code>.</li>
      <li>Allow negative denominator in remainder (%) operator (#10176).</li>
      <li>Coerce boolean results to c_int when negated (#10175).</li>
      <li>Prevent a while under an if from stealing the else.</li>
      <li>Fix args when calling <code>clang::ASTUnit::LoadFromCommandLine</code>.</li>
    </ul>
    <p>Contributors: Evan Haas, Veikka Tuominen, xackus, Matthew Borkowski, St√©phan Kochen, Andrew Kelley, Tamas Kenez</p>
    {#header_close#}

    {#header_open|Cache System#}
    <p>Zig's cache system is central to its strategy to support many targets, by shipping with
    only source files and lazily building artifacts as needed.</p>
    {#header_open|Shared Cache Locking#}
    <p>The cache system now drops from exclusive locks to shared locks after an
    artifact is built. Additionally, when checking the cache, if an exclusive lock
    cannot be obtained, a shared lock will be obtained instead. Together, this solves
    a design flaw in the caching system that was causing deadlocks, and allows multiple
    processes to share the same read-only build artifacts, while still allowing a cache
    garbage collection utility to avoid deleting files which are being actively used.</p>
    <p>This required new {#link|Standard Library#} functionality:
    <code>std.fs.File.setLock</code>. The {#link|Windows|Windows Support#}
    implementation based on using
    <code>NtLockFile</code> and <code>NtUnlockFile</code> rather than relying on
    <code>ShareAccess</code> flags and manual polling.</p>
    <p>This resolved the deadlock problems reported in #9139 and #9187. It also allowed us to
    remove another workaround to a deadlock when supplying the same source file multiple times.</p>
    <p>Main issue: #7596</p>
    {#header_close#}
    {#header_close#}
    {#header_close#}

    {#header_open|Standard Library#}
    <p>The Zig standard library is still unstable and mainly serves as a
    testbed for the language. After the {#link|Self-Hosted Compiler#} is completed,
    the {#link|language|Language Changes#} stabilized, and
    {#link|Package Manager|Package Manager Status#} completed, then it will be time
    to start working on stabilizing the standard library.
    Until then, experimentation and breakage without warning is allowed.</p>

    <p>Miscellaneous improvements:</p>
    <ul>
      <li>Fix path resolution on Windows (#10093).</li>
      <li>Fix stack traces for Zig on macOS when linked with any linker including Apple's ld64.</li>
    </ul>

    <p>Contributors: LemonBoy, Jakub Konka</p>

    {#header_open|Deprecations#}
    <ul>
      <li>{#syntax#}ensureCapacity{#endsyntax#} is removed in favor of
        {#syntax#}ensureTotalCapacity{#endsyntax#} and
        {#syntax#}ensureUnusedCapacity{#endsyntax#}.</li>
    </ul>
    {#header_close#}
    {#header_close#}

    {#header_open|Zig Build System#}
    <p>
    The Zig Build System is invoked via the <code>zig build</code> command, which executes
    a declarative <code>build.zig</code> script to collect options and describe the graph
    of steps, and then provides options to execute those steps.
    </p>
    <p>
    Although it is already essential to nearly every Zig project, the Zig Build System is
    still experimental and unstable. As a build system, stability is especially important,
    but stabilization cannot occur until the language stabilizes. Language stability is the
    next area of focus on the {#link|Roadmap#}.
    </p>
    <p>Miscellaneous improvements:</p>
    <ul>
      <li>There is a new <code>zig build</code> flag, <code>--prominent-compile-errors</code>,
      which, in the case when there are compile errors, hides all the other standard error output
      besides the compile errors (#8513).</li>
    </ul>
    {#header_close#}

    {#header_open|Toolchain#}
    <p>TODO</p>

    {#header_open|LLVM 13#}
    <p>
    This release of Zig upgrades to
    <a href="http://releases.llvm.org/13.0.0/docs/ReleaseNotes.html">LLVM 13</a>.
    </p>
    <p>
    TODO mention perf improvement
    </p>
    {#header_close#}

    {#header_open|musl 1.2.2#}
    <p>
    Zig ships with the source code to <a href="http://musl.libc.org/">musl</a>.
    When the musl C ABI is selected, Zig builds static musl from source for the selected target.
    Zig also supports targeting dynamically linked musl which is useful for Linux distributions
    that use it as their system libc, such as
    <a href="https://www.alpinelinux.org/">Alpine Linux</a>.
    </p>
    <p>
    Musl has not tagged a new release since Zig 0.8.0, so the version shipped with Zig
    remains at 1.2.2. However, there has been a major improvement when targeting dynamically
    linked musl libc.
    </p>
    <p>Zig now generates a more accurate libc.so for cross compiling purposes.
    Previously, the way it worked is that we used
    <a href="https://github.com/ziglang/zig/blob/0.8.0/tools/gen_stubs.zig">a script</a>
    to process the output of <code>objdump --dynamic-syms /path/to/musl/libc.so</code>
    and generate a libc.s file, which could then be lazily compiled by Zig into libc.so for the
    requested target when cross compiling.
    </p>
    <p>
    The problem is that the input libc.so file we used was musl built dynamically for x86_64.
    While this is <em>almost</em> correct for other architectures besides x86_64, it is not
    <em>completely</em> correct, leading to bugs such as #8896.
    </p>
    <p>
    The <a href="https://github.com/ziglang/zig/blob/0.9.0/tools/gen_stubs.zig">updated script</a>
    now inputs musl built for 7 different architectures:
    </p>
    <ul>
      <li>libc.so built for riscv64</li>
      <li>libc.so built for mips</li>
      <li>libc.so built for i386</li>
      <li>libc.so built for x86_64</li>
      <li>libc.so built for powerpc</li>
      <li>libc.so built for powerpc64</li>
      <li>libc.so built for aarch64</li>
    </ul>
    <p>These are produced by passing {#link|zig cc#} in as the <code>CC</code>
    environment variable when building musl
    (<a href="https://github.com/ziglang/zig/wiki/Updating-libc#updating-the-libcs-file">instructions</a>).</p>
    <p>
    Next, the script identifies:
    </p>
    <ul>
      <li>which symbols are common, and which are specific to some architectures</li>
      <li>which symbols are functions, and which symbols are objects</li>
      <li>what size (in bytes) the objects are</li>
    </ul>
    <p>
    Using this information, the script creates a libc.S file, which is shipped along with
    the Zig compiler. The file is only 104 KB because it uses the preprocessor in order
    to support the few differences between architectures.
    For example, if you execute Zig like this:
    </p>
    <pre><code>zig build-exe hello.c -target aarch64-linux-musl -dynamic</code></pre>
    <p>
    Zig will, under the hood, assemble libc.S with <code>-DPTR64 -DARCH_aarch64</code>,
    producing a libc.so file that can be passed to the linker, accurately modeling the libc.so
    that will be found on the target.
    </p>
    <p>
    The preprocessor directives in libc.S are based on <em>excluding</em> symbols, so
    even when targeting an architecture that is missing from that list of 7, will work fine;
    it's just that there may be extra symbols that shouldn't be there, and if there happened to
    be any special symbols that only existed for that one architecture, those will be missing.
    It will still be a small improvement to expand that list of 7 to more targets. Regardless,
    the changes made in this release are <strong>strictly an improvement</strong>
    when compared with prior status quo.
    </p>
    {#header_close#}

    {#header_open|glibc 2.34#}
    <p>
    Zig gains the ability to target
    <a href="https://sourceware.org/pipermail/libc-alpha/2021-August/129718.html">glibc 2.34</a>
    in addition to the other 46 glibc versions.
    </p>
    <p>TODO glibc 2.34 is not actually done yet in zig upstream.</p>
    <p>There was a major improvement to targeting glibc when cross compiling.</p>
    <p>Zig supports targeting every version of glibc for any target architecture.
    Previously, in order to accomplish this, Zig had only the information from the .abilist
    files from the latest verison of glibc:
    </p>
    <pre><code>$ cat ../lib/libc/glibc/*.txt | wc -c
205219
$ cat ../lib/libc/glibc/*.txt | xz | wc -c
22976</code></pre>
    <p>The information required to do this takes up 200 KB installation size / 22 KB tarball size,
    and it had the following problems (which caused several bugs):
    </p>
    <ul>
      <li>It failed to represent symbols that migrate from one library to another between
        glibc versions (#7667).</li>
      <li>It failed to represent a distinction between functions and objects (#8896).</li>
      <li>It failed to represent object sizes.</li>
    </ul>
    <p>Now there is a new
    <a href="https://github.com/ziglang/glibc-abi-tool">ziglang/glibc-abi-tool</a> that produces
    an improved dataset. The project is quite interesting; if you are curious to learn more,
    check out the README of that repository which explains in detail the strategy and encoding.</p>
    <p>With the new dataset:
    </p>
    <pre><code>$ cat abilists | wc -c
169421
$ cat abilists | xz | wc -c
24880</code></pre>
    <p>The new data that Zig ships with is 165 KB installation size / 24 KB tarball size,
    and all the above issues are solved.</p>
    <p>
    When a Zig user requests to cross compile for glibc, Zig uses this abilists file to
    create, for the requested glibc version and CPU architecture:
    </p>
    <ul>
      <li>m.s</li>
      <li>pthread.s</li>
      <li>c.s</li>
      <li>dl.s</li>
      <li>rt.s</li>
      <li>ld.s</li>
      <li>util.s</li>
    </ul>
    <p>...which are then assembled into:</p>
    <ul>
      <li>libm.so</li>
      <li>libpthread.so</li>
      <li>libc.so</li>
      <li>libdl.so</li>
      <li>librt.so</li>
      <li>ld.so</li>
      <li>libutil.so</li>
    </ul>
    <p>
    These files are cached and placed on the linker line when cross compiling.
    Thanks to this improved dataset, they now accurately model the requested version
    of glibc.
    </p>
    <p>
    If we naively shipped every version of the .abilist files:
    </p>
    <pre><code>$ cat (find glibc/ -name "*.abilist") | wc -c
37041906
$ cat (find glibc/ -name "*.abilist") | xz | wc -c
205036</code></pre>
    <p>...it would have been 35 MiB installation size, 200 KB tarball size.
    So we have effectively achieved a compression ratio of 219:1 by implementing a
    bespoke encoding of this information.</p>
    {#header_close#}

    {#header_open|mingw-w64 9.0.0#}
    <p>
    Zig ships with the source code to <a href="https://mingw-w64.org/">mingw-w64</a>.
    When targeting *-windows-gnu and linking against libc, Zig builds mingw-w64 from source
    for the selected target.
    </p>
    <p>
    The mingw-w64 project has not tagged a new release since Zig 0.8.0, so the version shipped
    with Zig remains at 9.0.0. However, there have been improvements related to mingw-w64
    integration:
    </p>
    <ul>
      <li>TODO</li>
    </ul>
commit f28868e8fd4028cad29bd2de8c0aa1c1713c69dd
Author: Jonathan Marler <johnnymarler@gmail.com>
Date:   Fri Aug 13 12:52:36 2021 -0600

    mingw.zig: fix logic to add crt sources
    
    The current version of code uses isARM to check if we are compiling to any arm target then checks the target bit width to either add the 32-bit sources or 64-bit source.  However, isARM only returns true for 32-bit targets, and isAARCH64 is for the 64-bit targets.
    
    I also replaced the unreachable with a @panic when we receive an unsupported arch because this code is reachable and should turn into an error.

commit e06052f201a63edd772ffade74551d159c7a7784
Author: Michal Ziulek <michalziulek@gmail.com>
Date:   Wed Sep 15 19:38:00 2021 +0200

    Added implementation for _fseeki64 and _ftelli64 from mingw-w64 9.0.0 (#9402). (#9766)
    
    * Added fseeki64.c from mingw-w64 9.0.0. This file was missing in Zig distribution. This file contains implementation for _fseeki64 and _ftelli64 functions.

commit 33889e1974137a54d1a88b87f57462de2a7cc145
Author: J.C. Moyer <jcmoyer32@gmail.com>
Date:   Tue Sep 28 08:26:33 2021 -0400

    mingw-w64: add missing file frexp.c to mingwex.lib
    
    Fixes a frexp() segfault on Windows.

commit 39c0d8bd2c2bd048da6ea1821c6c46aa60fa2907
Merge: 33889e197 08c768ad8
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Mon Nov 15 18:34:52 2021 -0500

    Merge pull request #8674 from xxxbxxx/master
    
    build: workaround link error with LTO and mingw


    {#header_close#}

    {#header_open|libunwind#}
    TODO
    <ul>
      <li>Fix unwinding through libunwind stack frames (#9591).</li>
    </ul>
    {#header_close#}

    {#header_open|libcxx#}
    <ul>
      <li>TODO</li>
    </ul>
commit eecb669074f7798975366ac834ae25fa185f05fa
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Tue Nov 16 12:44:25 2021 -0700

    libcxx: disable redundant new/delete definitions
    
    which are already provided by libcxxabi
    {#header_close#}

    {#header_open|zig cc#}
    <p>TODO</p>
    <ul>
      <li>Fixed not recognizing all the different pie flags that Clang supports.</li>
      <li>Improved linker args parsing. Handle linker args joined with <code>=</code>
        such as <code>-Wl,-rpath=foo</code>.
        Update existing args <code>--major-os-version</code>, <code>--minor-os-version</code>,
        <code>--major-subsystem-version</code> and <code>--minor-subsytem-version</code>
        to work with the new parsing. Also handle <code>-Wl,--script</code> in addition to
        <code>-Wl,-T</code>.</li>
      <li>Support <code>-S</code> and <code>-emit-llvm</code> CLI parameters (#6425).</li>
      <li>Added <code>-ffunction-sections</code>, <code>-fcolor-diagnostics</code>, and
        <code>-fcaret-diagnostics</code> integration (#6290).</li>
      <li>Added <code>-Bdynamic</code> and <code>-Bstatic</code> integration (#10050).</li>
      <li>Honor all <code>-m</code> and <code>-mno-</code> CPU feature flags (#9196).</li>
    </ul>
    <p>
    Please be aware that there are
    <a href="https://github.com/ziglang/zig/issues?q=is%3Aopen+is%3Aissue+label%3A%22zig+cc%22">open zig cc issues</a>.
    However, these are use cases that never worked in the first place, making them
    <em>bugs</em> and <em>enhancements</em>, not regressions.
    </p>
    <p>Contributors: Andrew Kelley, Vincent Rischmann</p>
    {#header_close#}

    {#header_open|zig c++#}
    <code>zig c++</code> is equivalent to {#link|zig cc#} with an added <code>-lc++</code>
    parameter, but I made a separate heading here because I realized that some people are
    not aware that Zig supports compiling C++ code and providing libc++ too!
    </p>
    <pre><code>#include &lt;iostream&gt;
int main() {
    std::cout &lt;&lt; "Hello World!" &lt;&lt; std::endl;
    return 0;
}</code></pre>
    <pre><code>$ zig c++ -o hello hello.cpp
$ ./hello
Hello World!</code></pre>
    <p>Cross-compiling too, of course:</p>
    <pre><code>$ zig c++ -o hello hello.cpp -target riscv64-linux
$ qemu-riscv64 ./hello
Hello World!</code></pre>
    <p>
    One thing that trips people up when they use this feature is that the
    <strong>C++ ABI is not stable across compilers</strong>, so always remember the rule:
    You must use the same C++ compiler to compile <em>all</em> your objects and static libraries.
    This is an unfortunate limitation of C++ which Zig can never fix.
    </p>
    {#header_close#}

    {#header_open|zig fmt#}
    <ul>
      <li><code>--ast-check</code> now works in combination with <code>--stdin</code>.</li>
    </ul>
    <p>Contributors: Jacob G-W</p>
    {#header_close#}

    {#header_open|zig ar#}
    <p>Fixed argument forwarding to LLVM on Windows, fixing <code>zig ar</code> on Windows.</p>
    {#header_close#}

    {#header_open|Objective-C and Objective-C++#}
    <p>Zig now supports compiling Objective-C files:</p>
    <p class="file">Foo.h</p>
    <pre><code>#import &lt;Foundation/Foundation.h&gt;

@interface Foo : NSObject

- (NSString *)name;

@end</code></pre>
    <p class="file">Foo.m</p>
    <pre><code>#import "Foo.h"

@implementation Foo

- (NSString *)name
{
      NSString *str = [[NSString alloc] initWithFormat:@"Zig"];
      return str;
}

@end</code></pre>
    <p class="file">test.m</p>
    <pre><code>#import "Foo.h"
#import &lt;assert.h&gt;

int main(int argc, char *argv[])
{
  @autoreleasepool {
      Foo *foo = [[Foo alloc] init];
      NSString *result = [foo name];
      assert([result isEqualToString:@"Zig"]);
      return 0;
  }
}</code></pre>
    <pre><code>$ zig run test.m Foo.m -I. -framework Foundation</code></pre>

    <p>Of course the {#link|zig cc#} CLI works as well:</p>
    <pre><code>$ zig cc -o test test.m Foo.m -I. -framework Foundation</code></pre>

    <p>Likewise, Zig now supports compiling Objective-C++ files. In our example, if we rename
    test.m to test.mm, Foo.m to Foo.mm, and update test.mm like so:</p>

    <p class="file">test.mm</p>
    <pre><code>#import "Foo.h"
#import &lt;assert.h&gt;

int main(int argc, char *argv[])
{
  @autoreleasepool {
      Foo *foo = [[Foo alloc] init];
      NSString *result = [foo name];
      std::cout &lt;&lt; "Hello from C++ and " &lt;&lt; [result UTF8String];
      assert([result isEqualToString:@"Zig"]);
      return 0;
  }
}</code></pre>
    <pre><code>$ zig run test.mm Foo.mm -I. -framework Foundation
Hello from C++ and Zig</code></pre>
    <p>Of course the {#link|zig c++#} CLI works as well:</p>
    <pre><code>$ zig c++ -o test test.mm Foo.mm -I. -framework Foundation</code></pre>
    <p>Contributors: Stephen Gutekanst, Jakub Konka, Andrew Kelley</p>
    {#header_close#}
    {#header_close#}

    {#header_open|Continuous Integration#}
    <p>Zig Software Foundation is now paying Hetzner for a 100 euros/month bare metal
    x86_64 machine which operates <a href="https://ci.ziglang.org/">ci.ziglang.org</a>.</p>
    <p>We switched away from Azure for x86_64 Linux CI runs, gaining the following benefits:</p>
    <ul>
      <li>The average CI run for x86_64-linux went from 4 hours to 1.5 hours.</li>
      <li>We stopped experiencing false positive test failures due to the OOM killer.</li>
      <li>We use the server's hard drive for a cache instead of downloading multiple hundreds
          of mebibytes from the Internet every run, saving on bandwidth costs.</li>
      <li>Since it is a bare metal machine with deterministic hardware resources every run,
          it is used for running benchmarks for our new {#link|Performance Tracking#} system.</li>
    </ul>
    <p>
    Big, big thank you to <strong>Michael Dusan</strong> who volunteered his time to set up
    and maintain this.
    Please consider <a href="/zsf/">donating to the ZSF</a> so that we can pay more people
    like him for their valuable time.
    </p>
    <p>
    Still on the to-do list is migrating these over to the new system via QEMU or some other
    OS virtualization software:
    </p>
    <ul>
      <li><strong>x86_64 Windows</strong>, currently running on Azure.</li>
      <li><strong>x86_64 FreeBSD</strong>, currently running on a
        <a href="https://lavatech.top/">LavaTech</a>-hosted instance of SourceHut.</li>
    </ul>
    <p>
    And finally we still have these remaining:
    </p>
    <ul>
      <li>
      <strong>aarch64-linux</strong>, currently running on Drone CI.
      For ARM 64-bit, we probably need to rent another bare metal machine
      that has an aarch64 CPU. On Drone CI it frequently fails CI runs
      with OOM, depending on the luck of the draw of which virtual machine it decides
      to run our builds on.
      </li>
      <li>
      <strong>x86_64-macos</strong>, currently running on Azure.
      For some reason that is beyond my comprehension it is tricky to
      virtualize macOS (possibly for legal reasons?) so it seems this is not eligible to
      move over to be virtualized in our x86_64-linux box. I would love to be told that
      I am wrong about this. We are also seeing some CI runs fail with OOM on this one.
      </li>
      <li>
      <strong>aarch64-macos</strong>, we don't have any CI coverage for this target yet.
      This has both the ARM 64-bit problem and the macOS problem.
      I don't know, maybe the play here would be getting a powerful aarch64-macos server
      and virtualizing Linux on it for the aarch64-linux case. Such machines don't
      really seem to be available yet.
      </li>
    </ul>
    <p>
    Unfortunately until we solve these last three, we will continue to experience
    <a href="https://github.com/ziglang/zig/issues/10008">flaky CI failures</a> due to
    <a href="https://github.com/ziglang/zig/issues/6485">OOM</a>. That is, until we
    ship the {#link|Self-Hosted Compiler#}, which uses significantly less memory, side-stepping
    this problem.
    </p>
    {#header_close#}

    {#header_open|Performance Tracking#}
    <p>TODO</p>
    {#header_close#}

    {#header_open|Bug Fixes#}
    <p>
    <a href="https://github.com/ziglang/zig/issues?q=is%3Aclosed+is%3Aissue+label%3Abug+milestone%3A0.9.0+">Full list of the TODO bug reports closed during this release cycle</a>.
    </p>
    <p>
    Note: many bugs were both introduced and resolved within this release cycle.
    </p>
    {#header_open|This Release Contains Bugs#}
    <p>
    Zig has
    <a href="https://github.com/ziglang/zig/issues?q=is%3Aopen+is%3Aissue+label%3Abug">known bugs</a>
    and even some
    <a href="https://github.com/ziglang/zig/issues?q=is%3Aopen+is%3Aissue+label%3Amiscompilation">miscompilations</a>.
    </p>
    <p>Zig is immature. Even with Zig 0.9.0, working on a non-trivial project using Zig will
    likely require participating in the development process.</p>
    <p>When Zig reaches 1.0.0, a new requirement for {#link|Tier 1 Support#} will be
    0 known bugs for that target.</p>
    <p>
    A <a href="https://github.com/ziglang/zig/milestone/15">0.9.1 release</a> is planned.
    </p>
    {#header_close#}
    {#header_close#}

    {#header_open|Roadmap#}
    TODO update this section
    <p>The goal of the 0.9.0 release cycle was
    {#link|self-hosting the compiler|Self-Hosted Compiler#}. With a longer release cycle,
    I think we could have done it. However, compared to
    <a href="/download/0.8.0/release-notes.html">0.8.0</a>, which had a 7-month long cycle,
    this one only had 4 months, since releases are,
    <a href="https://kristoff.it/blog/zig-new-relationship-llvm/">for now</a>,
    tied to LLVM releases.</p>

    <p>The major theme of the 0.10.0 release cycle will be
    <strong>stabilizing the language</strong>,
    <strong>creating a first draft of the language specification</strong>, and
    <strong>self-hosting the compiler</strong>.
    </p>

    <p>
    If you want a sense of progress, have a look at the
    <a href="https://github.com/ziglang/zig/blob/0.9.0/test/behavior.zig">behavior tests of the language</a>.
    Here, you can see which tests are passing for self-hosted and which are not yet. For comparison,
    <a href="https://github.com/ziglang/zig/blob/0.8.0/test/behavior.zig">when 0.8.0 was released, this list was empty.</a>
    </p>

    {#header_open|Package Manager Status#}
    <p>
    Having a package manager built into the Zig compiler is a
    <a href="https://github.com/ziglang/zig/issues/943">long-anticipated feature</a>.
    Zig 0.9.0 does not have this feature.
    </p>
    <p>
    If the package manager works well, people will use it, which means building Zig projects
    will involve compiling more lines of Zig code, which means the Zig compiler must get faster,
    better at incremental compilation, and better at resource management.
    </p>
    <p>
    Therefore, the package manager depends on finishing the
    {#link|Self-Hosted Compiler#}, since it is planned to have these
    improved performance characteristics, while the {#link|Bootstrap Compiler#}
    is not planned to have them.</p>
    {#header_close#}

    {#header_open|Accepted Proposals#}
    <p>
    If you want more of a sense of the direction Zig is heading, you can look at
    <a href="https://github.com/ziglang/zig/issues?q=is%3Aopen+is%3Aissue+label%3Aaccepted">the set of accepted proposals</a>.
    </p>
    {#header_close#}
    {#header_close#}

    {#header_open|Thank You Sponsors!#}
    <p>
    Special thanks to those who <a href="/zsf/">sponsor Zig</a>.
    Because of you, Zig is driven by the open source community, rather than the goal of making profit.
    In particular, these fine folks sponsor Zig for $50/month or more:
    </p>
    <p>TODO</p>
    {#header_close#}
    </div>
  </body>
</html>

TODO replace #numbers with github links
TODO run tidy to validate the html
TODO put the new mascot pictures in!
TODO search for "commit " in case I pasted a git commit
