<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>0.9.0 Release Notes ⚡ The Zig Programming Language</title>
    <link rel="icon" href="https://ziglang.org/favicon.png">
    <style>
      body{
        font-family: system-ui, -apple-system, Roboto, "Segoe UI", sans-serif;
        line-height: 1.45;
        margin-left: 0;
        margin-right: 0;
      }
      p {
        margin: 0.8em 0;
      }

      h1, h2, h3, h4, h5 {
        margin: 0.5em 0 0.5em;
        line-height: 1.2;
        font-weight: bold;
        color: #666;
      }

      h1 a, h2 a, h3 a, h4 a, h5 a {
        text-decoration: none;
        color: #666;
      }

      h1 { font-size: 2.0em; }

      h2 { font-size: 1.5em; }

      h3 { font-size: 1.25em; }

      h4 { font-size: 1.0em; }

      a.hdr {
        visibility: hidden;
      }
      h1:hover > a.hdr, h2:hover > a.hdr, h3:hover > a.hdr, h4:hover > a.hdr, h5:hover > a.hdr {
        visibility: visible;
      }

      a {
        color: #2A6286;
      }

      a:not(:hover) {
        text-decoration: none;
      }

      th, td {
        padding: 0.6em;
        text-align: left;
      }

      td {
        font-size: 0.96em;
      }

      th {
        border-bottom: 2px solid #f2f3f3;
      }

      tr:nth-child(even) {
        background: #f2f3f3;
      }

      .t0_1, .t37, .t37_1 {
        font-weight: bold;
      }
      .t2_0 {
        color: grey;
      }
      .t31_1 {
        color: red;
      }
      .t32_1 {
        color: green;
      }
      .t36_1 {
        color: #0086b3;
      }
      .file {
        text-decoration: underline;
      }
      pre,code {
        font-size: 12pt;
      }
      pre > code {
        display: block;
        overflow: auto;
        padding: 0.5em;
        color: #333;
        background: #f8f8f8;
      }
      .table-wrapper {
        width: 100%;
        overflow-y: auto;
      }

      .tok-kw {
          color: #333;
          font-weight: bold;
      }
      .tok-str {
          color: #d14;
      }
      .tok-builtin {
          color: #0086b3;
      }
      .tok-comment {
          color: #777;
          font-style: italic;
      }
      .tok-fn {
          color: #900;
          font-weight: bold;
      }
      .tok-null {
          color: #008080;
      }
      .tok-number {
          color: #008080;
      }
      .tok-type {
          color: #458;
          font-weight: bold;
      }

      #contents {
        max-width: 60em;
        margin: auto;
        padding: 0 0.2em;
      }

      #logo {
        width: 100%;
        height: 7em;
        display: block;
        background-image: url(https://ziglang.org/img/zig-logo-dark.svg);
        background-repeat: no-repeat;
      }

      @media (prefers-color-scheme: dark) {
        body{
            background-color:#111;
            color: #bbb;
        }
        a {
            color: #88f;
        }
        table, th, td {
            border-color: grey;
        }
        tr:nth-child(even) {
          background: #1e1e1e;
        }
        .t2_0 {
            color: grey;
        }
        .t31_1 {
            color: red;
        }
        .t32_1 {
            color: green;
        }
        .t36_1 {
            color: #0086b3;
        }
        pre > code {
            color: #ccc;
            background: #222;
        }
        .tok-kw {
            color: #eee;
        }
        .tok-str {
            color: #2e5;
        }
        .tok-builtin {
            color: #ff894c;
        }
        .tok-comment {
            color: #aa7;
        }
        .tok-fn {
            color: #e33;
        }
        .tok-null {
            color: #ff8080;
        }
        .tok-number {
            color: #ff8080;
        }
        .tok-type {
            color: #68f;
        }
        h1, h2, h3, h4, h5 {
          color: #aaa;
        }
        h1 a, h2 a, h3 a, h4 a, h5 a {
            color: #aaa;
        }
        #logo {
          background-image: url(https://ziglang.org/img/zig-logo-light.svg);
        }
      }
    </style>
  </head><!--
++++++++[>++++[>++>+++>+++>+<<<<-]>+>+>->>+[<]<-]>>.>- - -.+++++++..+++.>>.<-.<.+++.- - - - - -.- - - - - - - -.>>+.>++.
  --><body>
    <div id="contents">
    <a href="https://ziglang.org/"><span id="logo"></span></a>
    <h1>0.9.0 Release Notes</h1>
    <p>
    <a href="https://ziglang.org/download/">Download &amp; Documentation</a>
    </p>
    <p>
    Zig is a general-purpose programming language and toolchain for maintaining
    <strong>robust</strong>, <strong>optimal</strong>, and <strong>reusable</strong> software.
    </p>
    <p>
    Backed by the <a href="/zsf/">Zig Software Foundation</a>,
    the project is <strong>financially sustainable</strong> and offers billable
    hours for core team members:
    </p>
    <ul style="columns: 3">
      <li><a href="https://andrewkelley.me/">Andrew Kelley</a></li>
      <li><a href="https://kristoff.it/">Loris Cro</a></li>
      <li><a href="http://www.jakubkonka.com/">Jakub Konka</a></li>
      <li><a href="https://github.com/Vexu">Veikka Tuominen</a></li>
      <li><a href="https://github.com/SpexGuy">Martin Wickham</a></li>
      <li><a href="https://github.com/kprotty">kprotty</a></li>
      <li><a href="https://github.com/alexnask">Alexandros Naskos</a></li>
    </ul>
    <p>
    Please consider <a href="/zsf/">donating to the ZSF</a> to help us pay even more contributors!
    </p>
    <p>
    This release features <strong>6 months of work</strong> and
    changes from <strong>TODO different contributors</strong>, spread among
    <strong>TODO commits</strong>.
    </p>
    {#header_open|Table of Contents#}
    {#nav#}
    {#header_close#}

    {#header_open|Support Table#}
    {#header_open|Tier System#}
    <p>
    A green check mark (✅) indicates the target meets all the requirements for the
    support tier. The other icons indicate what is <em>preventing the target from
      reaching the support tier</em>. In other words, the icons are
    <strong>to-do items</strong>. If you find any wrong data here please
    <a href="https://github.com/ziglang/www.ziglang.org">submit a pull request</a>!
    </p>
    {#header_open|Tier 1 Support#}
    <ul>
      <li>Not only can Zig generate machine code for these targets, but the standard
        library cross-platform abstractions have implementations for these targets.</li>
      <li>🧪 The CI server automatically tests these targets on every commit to master
        branch.</li>
      <li>📦 The CI server automatically produces pre-built binaries for these targets,
        on every commit to master, and updates
        <a href="https://ziglang.org/download/">the download page</a> with links.</li>
      <li>These targets have debug info capabilities and therefore produce stack traces
        on failed assertions.</li>
      <li>libc is available for this target even when cross compiling.</li>
      <li>🐛 All the behavior tests and applicable standard library tests pass for this target.
          All language features are known to work correctly. Experimental features do not
          count towards disqualifying an operating system or architecture from Tier 1.</li>
      <li><code>zig cc</code>, <code>zig c++</code> and related toolchain commands support
        this target.</li>
      <li>💀 If the Operating System is proprietary then the target is not marked deprecated
        by the vendor,
        <a href="https://support.apple.com/en-us/HT208436">such as macos/x86</a>.</li>
    </ul>
    <table>
    <thead>
    <tr>
    <th></th>
    <th>freestanding</th>
    <th>Linux 3.16+</th>
    <th>macOS 10.13+</th>
    <th>Windows 8.1+</th>
    <th>WASI</th>
    </tr>
    </thead>
    <tbody>
    <tr>
    <td>x86_64</td>
    <td>✅</td>
    <td>✅</td>
    <td>✅</td>
    <td>✅</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>x86</td>
    <td>✅</td>
    <td><a href="https://github.com/ziglang/zig/issues/1929">#1929</a> 🐛📦</td>
    <td>💀</td>
    <td><a href="https://github.com/ziglang/zig/issues/537">#537</a> 🐛📦</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>aarch64</td>
    <td>✅</td>
    <td><a href="https://github.com/ziglang/zig/issues/2443">#2443</a> 🐛</td>
    <td>✅</td>
    <td>🐛📦🧪</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>arm</td>
    <td>✅</td>
    <td><a href="https://github.com/ziglang/zig/issues/3174">#3174</a> 🐛📦</td>
    <td>💀</td>
    <td>🐛📦🧪</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>mips</td>
    <td>✅</td>
    <td><a href="https://github.com/ziglang/zig/issues/3345">#3345</a> 🐛📦</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>riscv64</td>
    <td>✅</td>
    <td><a href="https://github.com/ziglang/zig/issues/4456">#4456</a> 🐛📦</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>sparcv9</td>
    <td>✅</td>
    <td><a href="https://github.com/ziglang/zig/issues/4931">#4931</a> 🐛📦🧪</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>wasm32</td>
    <td>✅</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>✅</td>
    </tr>
    </tbody>
    </table>
    {#header_close#}

    {#header_open|Tier 2 Support#}
    <ul>
    <li>📖 The standard library supports this target, but it's possible that some
      APIs will give an "Unsupported OS" compile error. One can link with libc or other
      libraries to fill in the gaps in the standard library.</li>
    <li>🔍 These targets are known to work, but may not be automatically tested, so there
      are occasional regressions.</li>
    <li>Some tests may be disabled for these targets as we work toward
      {#link|Tier 1 Support#}.
    </li>
    </ul>
    <table>
    <thead>
    <tr>
    <th></th>
    <th>free standing</th>
    <th>Linux 3.16+</th>
    <th>macOS 10.13+</th>
    <th>Windows 8.1+</th>
    <th>FreeBSD 12.0+</th>
    <th>NetBSD 8.0+</th>
    <th>DragonFlyBSD 5.8+</th>
    <th>UEFI</th>
    </tr>
    </thead>
    <tbody>
    <tr>
    <td>x86_64</td>
    <td>{#link|Tier 1|Tier 1 Support#}</td>
    <td>{#link|Tier 1|Tier 1 Support#}</td>
    <td>{#link|Tier 1|Tier 1 Support#}</td>
    <td>{#link|Tier 1|Tier 1 Support#}</td>
    <td>✅</td>
    <td>✅</td>
    <td>✅</td>
    <td>✅</td>
    </tr>
    <tr>
    <td>x86</td>
    <td>{#link|Tier 1|Tier 1 Support#}</td>
    <td>✅</td>
    <td>💀</td>
    <td>✅</td>
    <td>🔍</td>
    <td>🔍</td>
    <td>N/A</td>
    <td>✅</td>
    </tr>
    <tr>
    <td>aarch64</td>
    <td>{#link|Tier 1|Tier 1 Support#}</td>
    <td>✅</td>
    <td>{#link|Tier 1|Tier 1 Support#}</td>
    <td>🔍</td>
    <td>🔍</td>
    <td>🔍</td>
    <td>N/A</td>
    <td>🔍</td>
    </tr>
    <tr>
    <td>arm</td>
    <td>{#link|Tier 1|Tier 1 Support#}</td>
    <td>✅</td>
    <td>💀</td>
    <td>🔍</td>
    <td>🔍</td>
    <td>🔍</td>
    <td>N/A</td>
    <td>🔍</td>
    </tr>
    <tr>
    <td>mips64</td>
    <td>✅</td>
    <td>✅</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>🔍</td>
    <td>🔍</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>mips</td>
    <td>{#link|Tier 1|Tier 1 Support#}</td>
    <td>✅</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>🔍</td>
    <td>🔍</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>powerpc64</td>
    <td>✅</td>
    <td>📖</td>
    <td>💀</td>
    <td>N/A</td>
    <td>🔍</td>
    <td>🔍</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>powerpc</td>
    <td>✅</td>
    <td>✅</td>
    <td>💀</td>
    <td>N/A</td>
    <td>🔍</td>
    <td>🔍</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>riscv64</td>
    <td>{#link|Tier 1|Tier 1 Support#}</td>
    <td>✅</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>🔍</td>
    <td>🔍</td>
    <td>N/A</td>
    <td>🔍</td>
    </tr>
    <tr>
    <td>sparcv9</td>
    <td>{#link|Tier 1|Tier 1 Support#}</td>
    <td>✅</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>🔍</td>
    <td>🔍</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    </tbody>
    </table>
    {#header_close#}

    {#header_open|Tier 3 Support#}
    <ul>
    <li>The standard library has little to no knowledge of the existence of this
        target.</li>
    <li>If this target is provided by LLVM, LLVM has the target enabled by default.</li>
    <li>These targets are not frequently tested; one will likely need to contribute
      to Zig in order to build for these targets.</li>
    <li>The Zig compiler might need to be updated with a few things such as<ul>
       <li>what sizes are the C integer types</li>
       <li>C ABI calling convention for this target</li>
       <li>start code and default panic handler</li>
      </ul></li>
     <li><code>zig targets</code> is guaranteed to include this target.</li>
    </ul>
    <table>
      <thead>
        <tr>
          <th></th>
          <th>freestanding</th>
          <th>Linux 3.16+</th>
          <th>Windows 8.1+</th>
          <th>FreeBSD 12.0+</th>
          <th>NetBSD 8.0+</th>
          <th>UEFI</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>x86_64</td>
          <td>{#link|Tier 1|Tier 1 Support#}</td>
          <td>{#link|Tier 1|Tier 1 Support#}</td>
          <td>{#link|Tier 1|Tier 1 Support#}</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
        </tr>
        <tr>
          <td>x86</td>
          <td>{#link|Tier 1|Tier 1 Support#}</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>✅</td>
          <td>✅</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
        </tr>
        <tr>
          <td>aarch64</td>
          <td>{#link|Tier 1|Tier 1 Support#}</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>✅</td>
          <td>✅</td>
          <td>✅</td>
          <td>✅</td>
        </tr>
        <tr>
          <td>arm</td>
          <td>{#link|Tier 1|Tier 1 Support#}</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>✅</td>
          <td>✅</td>
          <td>✅</td>
          <td>✅</td>
        </tr>
        <tr>
          <td>mips64</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>mips</td>
          <td>{#link|Tier 1|Tier 1 Support#}</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>riscv64</td>
          <td>{#link|Tier 1|Tier 1 Support#}</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>✅</td>
        </tr>
        <tr>
          <td>powerpc32</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>powerpc64</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>✅</td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>bpf</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>hexagon</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>amdgcn</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>sparc</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>s390x</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>lanai</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>csky</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
        </tr>
      </tbody>
    </table>
    <table>
      <thead>
        <tr>
          <th></th>
          <th>freestanding</th>
          <th>emscripten</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>wasm32</td>
          <td>{#link|Tier 1|Tier 1 Support#}</td>
          <td>✅</td>
        </tr>
      </tbody>
    </table>
    {#header_close#}

    {#header_open|Tier 4 Support#}
    <ul>
      <li>Support for these targets is entirely experimental.</li>
      <li>If this target is provided by LLVM, LLVM may have the target as an
        experimental target, which means that you need to use Zig-provided binaries
        for the target to be available, or build LLVM from source with special configure flags.
        <code>zig targets</code> will display the target if it is available.</li>
      <li>This target may be considered deprecated by an official party,
        <a href="https://support.apple.com/en-us/HT208436">such as macosx/i386</a> in which
        case this target will remain forever stuck in Tier 4.</li>
      <li>This target may only support <code>-femit-asm</code> and cannot emit object files
        (<code>-fno-emit-bin</code> enabled by default and cannot be overridden).</li>
    </ul>
    <p>Tier 4 targets:</p>
    <ul style="columns: 3">
      <li>avr</li>
      <li>riscv32</li>
      <li>xcore</li>
      <li>nvptx</li>
      <li>msp430</li>
      <li>r600</li>
      <li>arc</li>
      <li>tce</li>
      <li>le</li>
      <li>amdil</li>
      <li>hsail</li>
      <li>spir</li>
      <li>kalimba</li>
      <li>shave</li>
      <li>renderscript</li>
      <li>32-bit x86 macOS, 32-bit ARM macOS, powerpc32 and powerpc64 macOS,
        because Apple has officially dropped support for them.</li>
    </ul>
    {#header_close#}
    {#header_close#}

    {#header_open|WebAssembly Support#}
    <ul>
      <li>wasi libc: fix wasm-ld failure in matching libc symbols, and enable tests (#9227).</li>
    </ul>
    TODO:     Merge pull request #8992 from ziglang/cc-wasm32-wasi-emulations
    Merge branch 'mathetake-cc-wasi-execmodel'
    Merge branch 'mathetake-cpp-wasi'

commit b82d6422ac5c0a68b812319f689b66b52b0eaf59
Author: Jakub Konka <kubkon@jakubkonka.com>
Date:   Wed Jun 9 22:21:58 2021 +0200

    link: don't link system libs by the wasm linker
    
    The only allowed system libraries that we can link are libraries
    that are part of the sysroot such as libc or WASI emulated
    subcomponents. This is required as Wasm allows to defer symbol
    resolution until load time.
    
    For example, the following import in Zig
    
    ```zig
    extern "wasi_snapshot_preview1" fn proc_exit() void;
    ```
    
    would normally result in appending `-lwasi_snapshot_preview1` flag
    to the linker line. However, for Wasm/WASI, the symbol is provided
    at load rather than link time, therefore, the linker should not be
    concerned with resolving the symbol. As a result, we should not
    consider system libs by the Wasm linker.

 src/link/Wasm.zig | 11 -----------
 1 file changed, 11 deletions(-)

    <p>Contributors: Takeshi Yoneda</p>
    {#header_close#}

    {#header_open|RISC-V Support#}
    <ul>
      <li>Fix RISC-V assembly CPU features.
        Previously, Zig did not properly communicate the target CPU features for
        RISC-V to clang assembler, because Clang has a different way to pass CPU
        features for C code and for assembly code. This commit makes Zig pass a
        RISC-V <code>-march</code> flag in order to communicate CPU features to
        Clang when compiling assembly files.</li>
    </ul>
    <p>Contributors: Andrew Kelley, Michael Dusan</p>
    {#header_close#}

    {#header_open|NetBSD Support#}
commit 79a4da14ad137aa52a32f9113982b706d8c5fe8b
Author: Michael Dusan <michael.dusan@gmail.com>
Date:   Wed Jun 16 00:35:20 2021 -0400

    netbsd: add args to limit number of PT_LOAD segs
    
    NetBSD expects 2 PT_LOAD segments in a shared object, otherwise
    ld.elf_so fails to load, emitting a general "not found" error.
    
    Workaround issue by adding args `--no-rosegment` and `-znorelro`.
    
    see #9109
    {#header_close#}

    {#header_open|ARM64 Windows Support#}
commit 6237dc0ab8fcb6fc14b97b2ea5494a488e94e492
Merge: 501e6cf2f 343547d4a
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Wed Sep 8 13:32:20 2021 -0400

    Merge pull request #9700 from marler8997/bootstrapAarch64Windows
    
    changes to build zig-bootstrap aarch64-windows

 src/mingw.zig       |  1 +
 src/windows_sdk.cpp | 20 ++++++++++++++++----
 2 files changed, 17 insertions(+), 4 deletions(-)

    {#header_close#}

    {#header_close#}

    {#header_open|Documentation#}
    <p>TODO</p>
    {#header_close#}

    {#header_open|Language Changes#}
    <ul>
      <li>{#syntax#}@byteOffsetOf{#endsyntax#} is renamed to {#syntax#}@offsetOf{#endsyntax#}</li>
    </ul>

    {#header_open|More Builtins Return String Literals#}
    <p>
    {#syntax#}@tagName{#endsyntax#}, {#syntax#}@errorName{#endsyntax#},
    {#syntax#}@typeName{#endsyntax#}, and {#syntax#}@embedFile{#endsyntax#} now
    have a return type of {#syntax#}*[N]const u8{#endsyntax#} instead of
    {#syntax#}[]const u8{#endsyntax#}. This means that these builtins can be used anywhere
    a string literal would be used. In other words, they can be
    <a href="https://ziglang.org/documentation/0.9.0/#Type-Coercion">coerced</a> into
    any of these types:
    </p>
    <ul>
      <li>{#syntax#}[]const u8{#endsyntax#} (slice which has pointer and length)</li>
      <li>{#syntax#}[*:0]const u8{#endsyntax#} (null-terminated pointer)</li>
      <li>{#syntax#}[:0]const u8{#endsyntax#} (slice which has pointer and length and is also
      guaranteed by the type system to have a null byte at the end, which is not counted in the length)</li>
    </ul>
    <p>Similarly, the <code>file</code> and <code>fn_name</code> fields of
    <code>std.builtin.SourceLocation</code> returned by {#syntax#}@src{#endsyntax#} now
    are {#syntax#}[:0]const u8{#endsyntax#}, making it possible to pass them as null-terminated
    strings without copying them.</p>
    {#header_close#}

    {#header_open|SIMD Status#}
    <p>
    In this release, the following builtins have been improved to support SIMD vectors:
    </p>
    <ul>
      <li>{#syntax#}@popCount{#endsyntax#}</li>
      <li>{#syntax#}@ctz{#endsyntax#}</li>
      <li>{#syntax#}@clz{#endsyntax#}</li>
    </ul>
    TODO SIMD status
     - mostly works great
     - link to proposal for vector syntax
     - docs aren't there yet
     - still some missing functionality
     - self-hosted compiler is where it's at
    {#header_close#}

    {#header_open|@intToEnum Implicitly Performs @intCast#}
    <p>This is a backwards-compatible language change.</p>
    <p>
    Previously, {#syntax#}@intToEnum{#endsyntax#} coerced its integer operand to the integer tag
    type of the destination enum type, often requiring the callsite to
    additionally wrap the operand in an {#syntax#}@intCast{#endsyntax#}.
    Now, the {#syntax#}@intCast{#endsyntax#} is
    implicit, and any integer operand can be passed to {#syntax#}@intToEnum{#endsyntax#}.
    </p>
    <p>
    The same as before, it is illegal behavior to pass any integer which does
    not have a corresponding enum tag.
    </p>
    TODO change this boring description into a code example
    {#header_close#}

    {#header_open|Shadowing Declarations#}
    TODO
commit 9c95f38a7c1defc7f63a4815bfc2d76a5f9f83f6
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Tue Aug 24 18:56:16 2021 -0700

    stage1: remove incorrect compile error for var redeclaration
    
    Locals are not allowed to shadow declarations, but declarations are
    allowed to shadow each other, as long as there are no ambiguous
    references.
    
    closes #678

 src/stage1/analyze.cpp | 43 ++++---------------------------------------
 src/stage1/astgen.cpp  | 43 +++++++++++++++++++++++++------------------
 2 files changed, 29 insertions(+), 57 deletions(-)



commit f30aa25cbf9c9a415963b4ea69d7efa09237a704
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Fri Aug 27 21:34:13 2021 -0700

    declarations may collide with primitives with @"" syntax
    
     * stage2 AstGen: add missing compile error for declaring a local
       that shadows a primitive. Even with `@""` syntax, it may not have
       the same name as a primitive.
     * stage2 AstGen: add a compile error for a global declaration
       whose name matches a primitive. However it is allowed when using
       `@""` syntax.
     * stage1: delete all "declaration shadows primitive" compile errors
       because they are now handled by stage2 AstGen.
     * stage1/stage2 AstGen: notice when using `@""` syntax and:
       - treat `_` as a regular identifier
       - skip checking if an identifire is a primitive
    
    Check the new test cases for clarifications on semantics.
    
    closes #6062

 src/stage1/all_types.hpp |  1 +
 src/stage1/analyze.cpp   | 13 ----------
 src/stage1/astgen.cpp    | 62 ++++++++++++++++++++++--------------------------
 src/stage1/parser.cpp    | 19 ++++++++++++---
 src/stage1/parser.hpp    |  1 +
 5 files changed, 47 insertions(+), 49 deletions(-)
    {#header_close#}

    {#header_open|Saturating Arithmetic#}
    TODO (#9949) (#9679)
    {#header_close#}

    {#header_open|Compile Errors for Unused Locals#}
    TODO
    TODO also mention the end-game for this which is a button in an editor
    which does "organize imports"-like behavior. philosohpy of having the source code
    on disk contain the smell.
    {#header_close#}

    {#header_open|@export with Field Access#}
    AstGen: support `@export` with field access
    
    The Zig language specification will support identifiers and field access
    in order to refer to which declaration to export with `@export`.
    
    This commit implements the change in AstGen and updates the language
    reference.
    {#header_close#}
    {#header_close#}

    {#header_open|Bootstrap Compiler#}
    <p>In the previous release, as well as this release, the main Zig compiler everybody uses
    is the bootstrap compiler, written in C++, also known as "stage1". Despite the main focus
    of this release cycle being the {#link|Self-Hosted Compiler#}, there were some improvements
    to stage1 as well.</p>
    <ul>
      <li>Fix SIMD instructions not respecting target CPU features when LTO is enabled (#8965).</li>
      <li>Store the specified code model in the LLVM module, ensuring that LTO builds pick
        up the correct model (#9132).</li>
      <li>Fix initialization of tuples with array literals (now it works).</li>
      <li>Fix render_const_value for printing const optional pointers.</li>
      <li>Make {#syntax#}@truncate{#endsyntax#} to an integer type of different sign an error
        at comptime too.</li>
      <li>CLI: remove <code>--verbose-ast</code> and <code>--verbose-tokenize</code> (#9034).</li>
      <li>Fix handling of C ABI parameters split in multiple regs by taking into account
        the increased number of parameters when flattening a structure into one or more
        SSE registers (#9061).</li>
      <li>Fix zig0 help message (#9140).</li>
      <li>Fix {#syntax#}@shuffle{#endsyntax#} type and mask parameters to imply a
        {#syntax#}comptime{#endsyntax#} scope for the expression.</li>
      <li>Fix unexpected truncation behavior with comptime_int larger than u64
          range (#9303) (#9299).</li>
      <li>Compilation speed is enhanced by 19% by improving hash functions.</li>
      <li>Compilation RAM usage is reduced by 5% by avoiding wasting padding with IR instruction
          tags and by removing an unneeded field.</li>
      <li>Fix bigint_shl (#9305).</li>
      <li>Add {#syntax#}c_longdouble{#endsyntax#} mapping for the s390x architecture.</li>
      <li>Expand SysV C ABI compatibility for small structs.</li>
      <li>Fix anonymous struct naming in some cases (#4330) (#9339).</li>
      <li>Add mask before truncating dereferenced bit pointers (#9584). Resulted in an
        <a href="https://bugs.llvm.org/show_bug.cgi?id=51529">LLVM bug fix</a>.</li>
      <li>Work around LLVM's buggy fma lowering by lowering {#syntax#}@mulAdd{#endsyntax#}
          directly to a call to <code>fmaq</code> instead of to the LLVM intristic
          because LLVM will lower it to <code>fmal</code> even when the target's
          <code>long double</code> is not equivalent to {#syntax#}f128{#endsyntax#}.</li>
      <li>Fix <code>zig test --verbose-air</code> crashing on an empty file (#10031).</li>
      <li>Fix path normalization on Windows by backporting a missing change from the
        {#link|Self-Hosted Compiler#} (#9465).</li>
      <li>Fix type mapping for integers and {#syntax#}c_longdouble{#endsyntax#} for the
        nvptx architecture.</li>
      <li>Fix linking errors with floorl on MSVC by including math.h in a .cpp file.
        floorl is a force inline function defined in a header thus not visible for the linker.</li>
      <li>Fix caching of LLVM builtin fns. The cache entry must take into account the fact some
        functions operate on scalar types and some other on vectors of scalar types (#10147).</li>
      <li>Improve packed struct array padding error message.</li>
      <li>Fix exporting enums (#9498).</li>
      <li>Make cmpxchg respect <code>-fsingle-threaded</code>.</li>
    </ul>
    <p>Contributors: Andrew Kelley, LemonBoy, Martin Wickham, Robin Voetter, Daniele Cocca, Takeshi Yoneda, Auguste Rame, Daniele Cocca, Jacob G-W, Lee Cannon, LemonBoy, Matthew Borkowski, Travis Staloch, leesongun, travisstaloch, Belhorma Bendebiche, Evan Haas, Exonorid, Frank Denis, Jakub Konka, Jay Petacat, Josh Soref, Kirk Scheibelhut, Meghan Denny, Michael Dusan, Richard Eklycke, Stephen Gregoratto, Veikka Tuominen, mlarouche, vole-dev, Žiga Željko</p>

    {#header_open|Better Awareness of Unwind Tables#}
commit b6277a4b1c2be27701d594bc1465ac72fc226260
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Thu Jun 10 11:25:33 2021 -0700

    better awareness of unwind tables
    
     * stage1 backend allows configuring the uwtables function attr
       via a flag rather than its own logic.
     * stage2 defaults to enabling uwtable attr when
       linking libunwind, or always on windows
     * stage2 makes link_eh_frame_hdr true automatically if uwtable
       attr is set to be on for zig functions
     * CLI: add -funwind-tables and -fno-unwind-tables to allow the user to
       override the defaults.
     * hook it up to `zig cc`
    
    closes #9046
    {#header_close#}
    {#header_close#}

    {#header_open|Self-Hosted Compiler#}
    <p>The main focus of this release cycle was the self-hosted compiler (also known
    as "stage2").</p>

    TODO image representing progress

    TODO tetris milestone with perf improvement

    TODO link to my twitter thread about progress updates

    TODO show perf measurement

    TODO mention MIR and how it relates to perf

    <p>
    Despite the fact that .zig source code by default is still compiled in this
    release using the {#link|Bootstrap Compiler#}, the main driver code is already
    self-hosted, as well as many features, such as {#link|zig cc#}, {#link|C Translation#},
    CPU feature detection, and the cache system. Improvements made to "stage2" in these areas
    do in fact affect the main Zig user experience.
    </p>

    <p>
    Miscellaneous improvements:
    </p>
    <ul>
      <li>windows: look for more DLL import lib path names.
        When linking with -lfoo syntax, this indicates to Zig that the
        dependency should either be provided by Zig, or it should be dynamically
        provided by the system.
        For windows-gnu targets, the search path was "foo.lib". Now it
        additionally looks for "libfoo.dll.a" (#7799).</li>
      <li>native libc detection: respect spaces in CC env var. 
        Zig has detection for when it is accidentally being called recursively
        when trying to find the native libc installation. However it was not
        working, resulting in a cryptic failure, because zig tried to execute
        a command which had spaces in it rather than tokenizing it.
        This improves the user experience of {#link|zig cc#} for systems that Zig
        does not support cross-compiling for (#8960).</li>
      <li>Print path on libc/libc-path fatal error.</li>
      <li>CLI: rename <code>--override-lib-dir</code> to <code>--zig-lib-dir</code>.
        This breaking change disambiguates between overriding the lib dir when
        performing an installation with the Zig Build System, and overriding the
        lib dir that the Zig installation itself uses.</li>
      <li>The equivalent of <code>zig ast-check</code> is now run unconditionally for
        all files, even when using the {#link|Bootstrap Compiler#}. This means instant
        feedback for many compile errors such as {#link|Compile Errors for Unused Locals#}
        (#9191).</li>
      <li>Add <code>--sysroot</code> link option (#9202).</li>
    </ul>
<p>Contributors: Andrew Kelley, Jakub Konka, Jacob G-W, Robin Voetter, joachimschmidt557, Luuk de Gram, Evan Haas, Martin Wickham, Matthew Borkowski, Lee Cannon, Veikka Tuominen, Takeshi Yoneda, Travis Staloch, drew, Ryan Liptak, xackus, Emily Bellows, Jonathan Marler, g-w1, Alex Rønne Petersen, Dmitry Matveyev, J.C. Moyer, Meghan Denny, Michael Dusan, kprotty, Andrew Gutekanst, Daniele Cocca, FnControlOption, Isaac Freund, Kurt Kartaltepe, LemonBoy, Lewis Gaul, Matt Knight, Tom Maenan Read Cutting, Zen1th, jacob gw, vole-dev, Žiga Željko, AODQ, Al Hoang, Christopher Smyth, Dimenus, Exonorid, Frank Denis, Hadrien Dorio, Isaac Freund, Josh Soref, Kenta Iwasaki, Loris Cro, Michal Ziulek, Scibuild, Sebastian Ullrich, Sizhe Zhao, Stephen Gregoratto, Stephen Gutekanst, Stéphan Kochen, Tamas Kenez, Thomas Ives, Vincent Rischmann, daurnimator, pithlessly, travisstaloch, xavier</p>

    {#header_open|LLVM Backend#}
    <p>TODO</p>
    {#header_close#}

    {#header_open|C Backend#}
    <p>TODO</p>
    {#header_close#}

    {#header_open|Self-Hosted Linker#}
    <p>TODO</p>

commit 961d556570e19c2fca1ba5ad1aadd843f012b7ed
Merge: 138afd5cb a8116dcc2
Author: Jakub Konka <kubkon@jakubkonka.com>
Date:   Fri Jun 11 10:18:43 2021 +0200

    Merge pull request #9069 from ziglang/zld-common-syms
    
    zig ld: add common (tentative) symbols support

commit 05b5e49bc07b7c26dc1eea28d6a4a3a1cb42585e
Merge: b5c117d05 6aa9c63f6
Author: Jakub Konka <kubkon@jakubkonka.com>
Date:   Sat Jun 12 11:39:23 2021 +0200

    Merge pull request #9086 from ziglang/fix-9050
    
    zig ld: act as linker for golang

commit d2427e6490587c4d9cfb1b2dfb735c20967121db
Merge: 408d8df86 7001bde84
Author: Jakub Konka <kubkon@jakubkonka.com>
Date:   Tue Jun 15 00:15:18 2021 +0200

    Merge pull request #9118 from ziglang/zld-eh-frame
    
    zld: handle __gcc_except_tab and __eh_frame, and streamline section mapping

commit 0f4173c5d834dca2710005ffc1e040a4b307df00
Merge: 7f9076c77 820476332
Author: Jakub Konka <kubkon@jakubkonka.com>
Date:   Tue Jun 15 14:55:12 2021 +0200

    Merge pull request #9122 from ziglang/zld-proxies
    
    zld: clean up stubs resolution, error messages and use ld64 defaults for system libs resolution

commit e006281d79a31e10bdbc07b3e33427d719ec01df
Author: Michael Dusan <michael.dusan@gmail.com>
Date:   Thu Jun 17 23:57:24 2021 -0400

    macho: LC_RPATH: reserve byte for null-terminator

commit 8216ce67895f5605d1720df4e5e6636395f2fc92
Merge: 31c49ad64 cea8a2f50
Author: Jakub Konka <kubkon@jakubkonka.com>
Date:   Thu Jun 24 18:41:33 2021 +0200

    Merge pull request #9171 from ziglang/zld-tapi
    
    zld: add TAPI parser for linkers, ship libSystem.B.tbd with Zig, and parse tbd stubs on macOS

commit 350ead9cb2ce87485569fbf630f2906864f35a6b
Merge: 8216ce678 ddd2cd733
Author: Jakub Konka <kubkon@jakubkonka.com>
Date:   Fri Jun 25 07:51:21 2021 +0200

    Merge pull request #9229 from ziglang/zld-objc-frameworks
    
    zig ld: link Obj-C, link frameworks, improve linker's implementation

commit 370be1265240d73ca0e677287f7ecc00a15d97f9
Author: Jacob G-W <jacoblevgw@gmail.com>
Date:   Thu Sep 9 15:15:53 2021 -0400

    plan9 linker: fix for 32 bit

commit 85f065a5115b201b7b6b0b7325a4626211bbb642
Merge: d1908c9f6 05763f43b
Author: Jakub Konka <kubkon@jakubkonka.com>
Date:   Tue Sep 14 14:20:11 2021 +0200

    Merge pull request #9676 from ziglang/zld-incr
    
    MachO: merges stage1 with self-hosted codepath

commit 25416d8121d14ec6a2a94943cfa4e2fb944e215b
Author: Jakub Konka <kubkon@jakubkonka.com>
Date:   Wed Sep 15 13:15:15 2021 +0200

    macho: when adding extern fn, check if already resolved
    
    This way, we will generate valid relocation info in the codegen.

commit 50e34a063c270e1fe4fe9b0342ca300bc937d96a
Merge: c4f97d336 ffb989169
Author: Jakub Konka <kubkon@jakubkonka.com>
Date:   Mon Sep 13 09:04:11 2021 +0200

    Merge pull request #9734 from Andoryuuta/macho-zld-win-filepath
    
    link/include: fix invalid file path concatenation when cross-compiling for Windows -> Mac

commit 983d6dcd9ea75e05abd8ce2bd247bbad3960acd7
Author: Jakub Konka <kubkon@jakubkonka.com>
Date:   Wed Sep 15 16:57:10 2021 +0200

    macho: implement object relinking in stage2
    
    * In watch mode, when changing the C source, we will trigger complete
      relinking of objects, dylibs and archives (atoms coming from the
      incremental updates stay put however). This means, we need to undo
      metadata populated when linking in objects, archives and dylibs.
    * Remove unused splitting section into atoms bit. This optimisation
      will probably be best rewritten from scratch once self-hosted
      matures so parking the idea for now. Also, for easier management
      of atoms spawned from the Object file, keep the atoms subgraph as
      part of the Object file struct.
    * Remove obsolete ref to static initializers in object struct.
    * Implement handling of global symbol collision in updateDeclExports.

commit d722f0cc627c34f2c18681202a512d9aaa58fb18
Author: Jakub Konka <kubkon@jakubkonka.com>
Date:   Tue Sep 21 11:05:22 2021 +0200

    macho: do not write temp and noname symbols to symtab
    
    Remove currently obsolete AtomParser from Object.

commit affd8f8b59d9d803f98178ec32ab9e2f6b0b30d2
Author: Jakub Konka <kubkon@jakubkonka.com>
Date:   Tue Sep 21 15:59:20 2021 +0200

    macho: fix incorrect segment/section growth calculation
    
    Otherwise, for last sections in segments it could happen we would
    not expand the segment when actually required thus exceeding the
    segment's size and causing data clobbering and dyld runtime errors.

commit fc302f00a9de5de0490f4a66720e75946763c695
Author: Jakub Konka <kubkon@jakubkonka.com>
Date:   Sun Oct 10 10:33:15 2021 +0200

    macho: redo relocation handling and lazy bind globals
    
    * apply late symbol resolution for globals - instead of resolving
      the exact location of a symbol in locals, globals or undefs,
      we postpone the exact resolution until we have a full picture
      for relocation resolution.
    * fixup stubs to defined symbols - this is currently a hack rather
      than a final solution. I'll need to work out the details to make
      it more approachable. Currently, we preemptively create a stub
      for a lazy bound global and fix up stub offsets in stub helper
      routine if the global turns out to be undefined only. This is quite
      wasteful in terms of space as we create stub, stub helper and lazy ptr
      atoms but don't use them for defined globals.
    * change log scope to .link for macho.
    * remove redundant code paths from Object and Atom.
    * drastically simplify the contents of Relocation struct (i.e., it is
      now a simple superset of macho.relocation_info), clean up relocation
      parsing and resolution logic.

commit 75c8c4442d1dd6fe43fbef1bfeaded360a98fe51
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Mon Oct 18 10:49:39 2021 -0700

    coff linking: honor the link_libunwind flag

commit 372e9709ad2f4af24461f0fa601754a469091c2b
Author: Jakub Konka <kubkon@jakubkonka.com>
Date:   Mon Oct 18 21:09:03 2021 +0200

    macho: fix LLVM codepaths in self-hosted linker
    
    * do not add linkage scope to aliased exported symbols - this is
      not respected on macOS
    * special-case `MachO.openPath` in `link.File.openPath` as on macOS
      we always link with zld
    * redirect to `MachO.flushObject` when linking relocatable objects
      in MachO linker whereas move the entire linking logic into
      `MachO.flushModule`

commit d0dceae736edb43d4c217306a2b0445277f184ce
Author: Jakub Konka <kubkon@jakubkonka.com>
Date:   Thu Oct 14 13:50:10 2021 +0200

    macho: dump linker's state as JSON
    
    Each element of the output JSON has the VM address of the generated
    binary nondecreasing (some elements might occupy the same VM address
    for example the atom and the relocation might coincide in the address
    space).
    
    The generated JSON can be inspected manually or via a preview tool
    `zig-snapshots` that I am currently working on and will allow the user
    to inspect interactively the state of the linker together with the
    positioning of sections, symbols, atoms and relocations within each
    snapshot state, and in the future, between snapshots too. This should
    allow for quicker debugging of the linker which is nontrivial when
    run in the incremental mode.
    
    Note that the state will only be dumped if the compiler is built with
    `-Dlink-snapshot` flag on, and then the compiler is passed `--debug-link-snapshot`
    flag upon compiling a source/project.

commit 6cf5305e47dd8382508f867b04067be615448b41
Author: Jakub Konka <kubkon@jakubkonka.com>
Date:   Sun Oct 24 16:57:00 2021 +0200

    macho: remove unresolved ref in the correct place
    
    * without this, when an included relocatable references a common symbol
      from another translation unit would not be correctly removed from
      the unresolved lookup table triggering a misleading assertion down
      the line
    * assert upon removal that we indeed removed a ref instead of silently
      ignoring in debug
    * add test case that covers this issue

commit e89e3735f3faead04e7b2e443a1795213c927ec8
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Wed Nov 10 09:20:35 2021 -0700

    wasm: respect stack_size_override for build-obj and build-lib
    
    Related: #8633

commit 71388b980bfc4c7eb267ed7c168c2395098f6db2
Author: Jakub Konka <kubkon@jakubkonka.com>
Date:   Thu Nov 11 21:36:40 2021 -0800

    macho,snapshots: fix how relocs are split
    
    Fixes how relocs are split for symbols contained within the atoms
    that represent entire sections extracted from relocatable object
    files.

commit 1d55705fa42d83556346f8fcb3a8fce0d55f06ad
Author: Jakub Konka <kubkon@jakubkonka.com>
Date:   Fri Nov 12 12:17:38 2021 -0800

    macho: invalidate relocs after relinking relocatables

commit 691090f3429b8625252dd5cfec101f2a9e171463
Author: Jakub Konka <kubkon@jakubkonka.com>
Date:   Mon Nov 22 14:15:46 2021 +0100

    zld: parse ObjC ivars and eh_types in tapi v3 and v4

commit e17c4a497ff77a9da11393886a86a216705eb687
Author: Jakub Konka <kubkon@jakubkonka.com>
Date:   Sun Nov 21 23:30:17 2021 +0100

    zld: parse []TbdV3 before TbdV3

commit 40e49fe2f045ed780b7622a3b71c11003d55fa56
Author: Jakub Konka <kubkon@jakubkonka.com>
Date:   Sun Nov 21 23:00:53 2021 +0100

    zld: add missing Tbdv3 fields to the declarative struct

commit 8e6c038dd81fa7eddfdac882aa3b1d5edbdcf329
Merge: f5c0c0803 0c1d61001
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Tue Nov 23 13:52:44 2021 -0500

    Merge pull request #10208 from ziglang/zld-frameworks
    
    zld: resolve frameworks in BFS order and handle additional macOS flags

commit da0ea909bcce59e265bf5651e5281b6af2216eae
Author: Jakub Konka <kubkon@jakubkonka.com>
Date:   Mon Nov 29 17:27:38 2021 +0100

    macho: POINTER_TO_GOT signals a need for a GOT entry
    
    It also signals the need for GOT indirection (unless it can
    be optimised away via link-time constant optimisation).

commit 2873e19366400b2f11d3a99b10ea17e4f06c6b4b
Author: Jakub Konka <kubkon@jakubkonka.com>
Date:   Mon Nov 29 21:05:19 2021 +0100

    macho: ignore undefined symbols marked for discarding
    
    If a symbol is undefined after we tried resolving it in static and
    dynamic libraries, and it is annotated with N_DESC_DISCARDED flag,
    we simply ignore it rather than flagging an undefined symbol error.

commit 51df63a44e6d6f78676e0d43b6723d21e1cb9235
Merge: 2873e1936 28623544c
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Tue Nov 30 12:52:00 2021 -0800

    Merge pull request #10251 from ziglang/fix-10225
    
    macos: fix stack traces for Zig linked with any linker including Apple's ld64

commit 933999dad13ed4f4acc095a3b0d6a327f0899555
Merge: 2af94e76a 71d19318e
Author: Jakub Konka <kubkon@jakubkonka.com>
Date:   Mon Dec 6 09:52:09 2021 +0100

    Merge pull request #10280 from ziglang/zld-rel-code-path
    
    macho: add preliminary non-prealloc path to the linker
    {#header_close#}

    {#header_open|C Translation#}
    <p>TODO</p>
    TODO mention arocc efforts
    <ul>
      <li>Properly handle enums used as boolean expressions.</li>
      <li>Implement flexible arrays (#8759).</li>
      <li>Fix enums that require {#syntax#}c_uint{#endsyntax#} type.</li>
      <li>Better support for static local variables.</li>
      <li>Don't bother with unwrapping pointers. Dereferencing a c pointer implicitly
        includes an unwrap, manually adding it just causes bugs.</li>
      <li>Improve type parsing.</li>
      <li>Remove usage of {#syntax#}extern enum{#endsyntax#}. Instead, translate enum
        types as the underlying integer type. Translate enum constants
        as top-level integer constants of the correct type (which does not necessarily
        match the enum integer type). If an enum constant's type cannot be translated
        for some reason, omit it.
        <a href="https://github.com/ziglang/zig/issues/2115#issuecomment-827968279">discussion</a>
        (#9153).</li>
      <li>Avoid discarding variables unless necessary (#9205).</li>
      <li>Handle underscore when used as an identifier by using <code>@</code> syntax to
        escape <code>_</code> when used as an identifier.</li>
      <li>Handle NAN and INFINITY macros (#9468).</li>
      <li>Handle signed array subscripts. This is a rather complicated workaround for
        handling signed array subscripts. Once {#syntax#}[*]T + isize{#endsyntax#} is allowed,
        this can be removed (#8556).</li>
      <li>Handle macros that cast to cv void (#9507).</li>
      <li>Allow string literals to be used as <code>char *</code>. 
        In C the type of string literals is <code>char *</code>, so when using them in
        a non-const context we have to cast the const away (#9126).</li>
      <li>Avoid repeating string in type when making it mutable.</li>
      <li>Remove now unnecessary mangling of primitive type shadowing (#6382).</li>
      <li>Fix logic for checking primitive names (#9928).</li>
      <li>Create {#syntax#}inline fn{#endsyntax#} for <code>always_inline</code>.</li>
      <li>Allow negative denominator in remainder (%) operator (#10176).</li>
      <li>Coerce boolean results to c_int when negated (#10175).</li>
      <li>Prevent a while under an if from stealing the else.</li>
    </ul>
    <p>Contributors: Evan Haas, Veikka Tuominen, xackus, Matthew Borkowski, Stéphan Kochen, Andrew Kelley</p>
    {#header_close#}
    {#header_close#}

    {#header_open|Standard Library#}
    <p>The Zig standard library is still unstable and mainly serves as a
    testbed for the language. After the {#link|Self-Hosted Compiler#} is completed,
    the {#link|language|Language Changes#} stabilized, and
    {#link|Package Manager|Package Manager Status#} completed, then it will be time
    to start working on stabilizing the standard library.
    Until then, experimentation and breakage without warning is allowed.</p>

    <p>Miscellaneous improvements:</p>
    <ul>
      <li>Fix path resolution on Windows (#10093).</li>
    </ul>

    <p>Contributors: LemonBoy</p>

    {#header_open|Deprecations#}
    <ul>
      <li>{#syntax#}ensureCapacity{#endsyntax#} is removed in favor of
        {#syntax#}ensureTotalCapacity{#endsyntax#} and
        {#syntax#}ensureUnusedCapacity{#endsyntax#}.</li>
    </ul>
    {#header_close#}
    {#header_close#}

    {#header_open|Zig Build System#}
    <p>
    The Zig Build System is invoked via the <code>zig build</code> command, which executes
    a declarative <code>build.zig</code> script to collect options and describe the graph
    of steps, and then provides options to execute those steps.
    </p>
    <p>
    Although it is already essential to nearly every Zig project, the Zig Build System is
    still experimental and unstable. As a build system, stability is especially important,
    but stabilization cannot occur until the language stabilizes. Language stability is the
    next area of focus on the {#link|Roadmap#}.
    </p>
    {#header_close#}

    {#header_open|Toolchain#}
    <p>TODO</p>

    {#header_open|LLVM 13#}
    <p>
    This release of Zig upgrades to
    <a href="http://releases.llvm.org/13.0.0/docs/ReleaseNotes.html">LLVM 13</a>.
    </p>
    <p>
    TODO mention perf improvement
    </p>
    {#header_close#}

    {#header_open|glibc 2.34#}
    <p>TODO this is not actually done yet in zig upstream.</p>
    <p>
    Zig gains the ability to target
    <a href="TODO">glibc 2.34</a>
    in addition to the other 44 glibc versions.
    </p>
    {#header_close#}

    {#header_open|libunwind#}
    TODO
    <ul>
      <li>Fix unwinding through libunwind stack frames (#9591).</li>
    </ul>
    {#header_close#}

    {#header_open|zig cc#}
    <p>TODO</p>
    <ul>
      <li>Fix not recognizing all the different pie flags that Clang supports.</li>
      <li>Improved linker args parsing. Handle linker args joined with <code>=</code>
        such as <code>-Wl,-rpath=foo</code>.
        Update existing args <code>--major-os-version</code>, <code>--minor-os-version</code>,
        <code>--major-subsystem-version</code> and <code>--minor-subsytem-version</code>
        to work with the new parsing. Also handle <code>-Wl,--script</code> in addition to
        <code>-Wl,-T</code>.</li>
      <li>Support <code>-S</code> and <code>-emit-llvm</code> CLI parameters (#6425).</li>
    </ul>
    <p>
    Please be aware that there are
    <a href="https://github.com/ziglang/zig/issues?q=is%3Aopen+is%3Aissue+label%3A%22zig+cc%22">open zig cc issues</a>,
    use cases that never worked in the first place, making them
    <em>bugs</em> and <em>enhancements</em>, not regressions.
    </p>
    <p>Contributors: Andrew Kelley, Vincent Rischmann</p>
    {#header_close#}

    {#header_open|zig c++#}
    <code>zig c++</code> is equivalent to {#link|zig cc#} with an added <code>-lc++</code>
    parameter, but I made a separate heading here because I realized that some people are
    not aware that Zig supports compiling C++ code and providing libc++ too!
    </p>
    <pre><code>#include &lt;iostream&gt;
int main() {
    std::cout &lt;&lt; "Hello World!" &lt;&lt; std::endl;
    return 0;
}</code></pre>
    <pre>$ zig c++ -o hello hello.cpp
$ ./hello
Hello World!</pre>
    <p>Cross-compiling too, of course:</p>
    <pre>$ zig c++ -o hello hello.cpp -target riscv64-linux
$ qemu-riscv64 ./hello
Hello World!</pre>
    TODO also point out objective-c
    <p>
    One thing that trips people up when they use this feature is that the
    <strong>C++ ABI is not stable across compilers</strong>, so always remember the rule:
    You must use the same C++ compiler to compile <em>all</em> your objects and static libraries.
    This is an unfortunate limitation of C++ which Zig can never fix.
    </p>
    {#header_close#}

    {#header_open|zig fmt#}
    <ul>
      <li><code>--ast-check</code> now works in combination with <code>--stdin</code>.</li>
    </ul>
    <p>Contributors: Jacob G-W</p>
    {#header_close#}
    {#header_close#}

    {#header_open|Continuous Integration#}
    <p>Zig Software Foundation is now paying Hetzner for a 100 euros/month bare metal
    x86_64 machine which operates <a href="https://ci.ziglang.org/">ci.ziglang.org</a>.</p>
    <p>We switched away from Azure for x86_64 Linux CI runs, gaining the following benefits:</p>
    <ul>
      <li>The average CI run for x86_64-linux went from 4 hours to 1.5 hours.</li>
      <li>We stopped experiencing false positive test failures due to the OOM killer.</li>
      <li>We use the server's hard drive for a cache instead of downloading multiple hundreds
          of mebibytes from the Internet every run, saving on bandwidth costs.</li>
      <li>Since it is a bare metal machine with deterministic hardware resources every run,
          it is used for running benchmarks for our new {#link|Performance Tracking#} system.</li>
    </ul>
    <p>
    Big, big thank you to <strong>Michael Dusan</strong> who volunteered his time to set up
    and maintain this.
    Please consider <a href="/zsf/">donating to the ZSF</a> so that we can pay more people
    like him for their valuable time.
    </p>
    <p>
    Still on the to-do list is migrating these over to the new system via QEMU or some other
    OS virtualization software:
    </p>
    <ul>
      <li><strong>x86_64 Windows</strong>, currently running on Azure.</li>
      <li><strong>x86_64 FreeBSD</strong>, currently running on a
        <a href="https://lavatech.top/">LavaTech</a>-hosted instance of SourceHut.</li>
    </ul>
    <p>
    And finally we still have these remaining:
    </p>
    <ul>
      <li>
      <strong>aarch64-linux</strong>, currently running on Drone CI.
      For ARM 64-bit, we probably need to rent another bare metal machine
      that has an aarch64 CPU. On Drone CI it frequently fails CI runs
      with OOM, depending on the luck of the draw of which virtual machine it decides
      to run our builds on.
      </li>
      <li>
      <strong>x86_64-macos</strong>, currently running on Azure.
      For some reason that is beyond my comprehension it is tricky to
      virtualize macOS (possibly for legal reasons?) so it seems this is not eligible to
      move over to be virtualized in our x86_64-linux box. I would love to be told that
      I am wrong about this. We are also seeing some CI runs fail with OOM on this one.
      </li>
      <li>
      <strong>aarch64-macos</strong>, we don't have any CI coverage for this target yet.
      This has both the ARM 64-bit problem and the macOS problem.
      I don't know, maybe the play here would be getting a powerful aarch64-macos server
      and virtualizing Linux on it for the aarch64-linux case. Such machines don't
      really seem to be available yet.
      </li>
    </ul>
    <p>
    Unfortunately until we solve these last three, we will continue to experience
    <a href="https://github.com/ziglang/zig/issues/10008">flaky CI failures</a> due to
    <a href="https://github.com/ziglang/zig/issues/6485">OOM</a>. That is, until we
    ship the {#link|Self-Hosted Compiler#}, which uses significantly less memory, side-stepping
    this problem.
    </p>
    {#header_close#}

    {#header_open|Performance Tracking#}
    <p>TODO</p>
    {#header_close#}

    {#header_open|Bug Fixes#}
    <p>
    <a href="https://github.com/ziglang/zig/issues?q=is%3Aclosed+is%3Aissue+label%3Abug+milestone%3A0.9.0+">Full list of the TODO bug reports closed during this release cycle</a>.
    </p>
    <p>
    Note: many bugs were both introduced and resolved within this release cycle.
    </p>
    {#header_open|This Release Contains Bugs#}
    <p>
    Zig has
    <a href="https://github.com/ziglang/zig/issues?q=is%3Aopen+is%3Aissue+label%3Abug">known bugs</a>
    and even some
    <a href="https://github.com/ziglang/zig/issues?q=is%3Aopen+is%3Aissue+label%3Amiscompilation">miscompilations</a>.
    </p>
    <p>Zig is immature. Even with Zig 0.9.0, working on a non-trivial project using Zig will
    likely require participating in the development process.</p>
    <p>When Zig reaches 1.0.0, a new requirement for {#link|Tier 1 Support#} will be
    0 known bugs for that target.</p>
    <p>
    A <a href="https://github.com/ziglang/zig/milestone/15">0.9.1 release</a> is planned.
    </p>
    {#header_close#}
    {#header_close#}

    {#header_open|Roadmap#}
    TODO update this section
    <p>The goal of the 0.9.0 release cycle was
    {#link|self-hosting the compiler|Self-Hosted Compiler#}. With a longer release cycle,
    I think we could have done it. However, compared to
    <a href="/download/0.8.0/release-notes.html">0.8.0</a>, which had a 7-month long cycle,
    this one only had 4 months, since releases are,
    <a href="https://kristoff.it/blog/zig-new-relationship-llvm/">for now</a>,
    tied to LLVM releases.</p>

    <p>The major theme of the 0.10.0 release cycle will be
    <strong>stabilizing the language</strong>,
    <strong>creating a first draft of the language specification</strong>, and
    <strong>self-hosting the compiler</strong>.
    </p>

    <p>
    If you want a sense of progress, have a look at the
    <a href="https://github.com/ziglang/zig/blob/0.9.0/test/behavior.zig">behavior tests of the language</a>.
    Here, you can see which tests are passing for self-hosted and which are not yet. For comparison,
    <a href="https://github.com/ziglang/zig/blob/0.8.0/test/behavior.zig">when 0.8.0 was released, this list was empty.</a>
    </p>

    {#header_open|Package Manager Status#}
    <p>
    Having a package manager built into the Zig compiler is a
    <a href="https://github.com/ziglang/zig/issues/943">long-anticipated feature</a>.
    Zig 0.9.0 does not have this feature.
    </p>
    <p>
    If the package manager works well, people will use it, which means building Zig projects
    will involve compiling more lines of Zig code, which means the Zig compiler must get faster,
    better at incremental compilation, and better at resource management.
    </p>
    <p>
    Therefore, the package manager depends on finishing the
    {#link|Self-Hosted Compiler#}, since it is planned to have these
    improved performance characteristics, while the {#link|Bootstrap Compiler#}
    is not planned to have them.</p>
    {#header_close#}

    {#header_open|Accepted Proposals#}
    <p>
    If you want more of a sense of the direction Zig is heading, you can look at
    <a href="https://github.com/ziglang/zig/issues?q=is%3Aopen+is%3Aissue+label%3Aaccepted">the set of accepted proposals</a>.
    </p>
    {#header_close#}
    {#header_close#}

    {#header_open|Thank You Sponsors!#}
    <p>
    Special thanks to those who <a href="/zsf/">sponsor Zig</a>.
    Because of you, Zig is driven by the open source community, rather than the goal of making profit.
    In particular, these fine folks sponsor Zig for $50/month or more:
    </p>
    <p>TODO</p>
    {#header_close#}
    </div>
  </body>
</html>

TODO replace #numbers with github links
TODO run tidy to validate the html
